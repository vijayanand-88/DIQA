Feature: File to refer common implementations

  #Implementation to validate the log information
  Scenario: Log validations for all plugins
    Given Analysis log should display the analysis info for below parameters
      | type | logValue                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | logCode       | pluginName         | removableText  |
      | INFO | Plugin started                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | ANALYSIS-0019 |                    |                |
      | INFO | Plugin Name:LocalFileCollector, Plugin Type:collector, Plugin Version:1.0.0.SNAPSHOT, Node Name:InternalNode, Host Name:2dd09a954f6b, Plugin Configuration name:BasicFunctionality                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | ANALYSIS-0071 | LocalFileCollector | Plugin Version |
      | INFO | ANALYSIS-0073: Plugin LocalFileCollector Configuration: ---  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: name: "BasicFunctionality"  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: pluginVersion: "LATEST"  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: label:  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:   : "BasicFunctionality"  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: catalogName: "Default"  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: eventClass: null  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: eventCondition: null  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: nodeCondition: "type=='internal'"  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: maxWorkSize: 100  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: tags:  2020-03-02 06:55:55.947 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: - "BasicFunctionality"  2020-03-02 06:55:55.947 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: pluginType: "COLLECTOR"  2020-03-02 06:55:55.953 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: dataSource: null  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: credential: null  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: businessApplicationName: null  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: dryRun: false  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: filter:  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:   filters: []  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:   deltaTime: null  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:   extraFilters:  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:     filefilters:  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:     - class: "com.asg.dis.common.analysis.dom.FileFilter"  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:       label:  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:         : "DemoFilter"  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:       tags: null  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:       fileMode: "include"  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:       objectType: "file"  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:       expressionType: "simple"  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:       expressions:  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:       - ""  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:   maxHits: null  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: contentAnalyzerPlugin: "UnstructuredDataAnalyzer"  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: root: "/lfc_testfiles"  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: incrementalRun: true | ANALYSIS-0073 | LocalFileCollector |                |
      | INFO | Plugin LocalFileCollector Start Time:2020-03-02 06:55:55.916, End Time:2020-03-02 06:56:01.436, Processed Count:10, Errors:0, Warnings:0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | ANALYSIS-0072 | LocalFileCollector |                |
      | INFO | Plugin completed (elapsed time in (HH:MM:SS.ms): 00:00:05.520)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | ANALYSIS-0020 |                    |                |


      #Implementation to get dynamic id from postgres db and store it in json
  Scenario Outline: user retrieves the total items for a catalog and copy to a json file
    Given user connects "<database>" and run query using "<catalog>" with "<name>" and "<type>" and store the item id results in "<targetFile>" using "<jsonpath>"
    Examples:
      | database      | catalog | name                                            | type | targetFile                            | jsonpath            |
      | APPDBPOSTGRES | Default | amazonaws.com                                   |      | response/amazonS3/actual/itemIds.json | $..Cluster.id       |
      | APPDBPOSTGRES | Default | AmazonS3                                        |      | response/amazonS3/actual/itemIds.json | $..has_Service.id   |
      | APPDBPOSTGRES | Default | asgqas3testautomation                           |      | response/amazonS3/actual/itemIds.json | $..has_Directory.id |
      | APPDBPOSTGRES | Default | avro.xlsx                                       |      | response/amazonS3/actual/itemIds.json | $..has_File.id      |
      | APPDBPOSTGRES | Default | cataloger/AmazonS3Cataloger/AmazonS3Catalog%DYN |      | response/amazonS3/actual/itemIds.json | $..has_Analysis.id  |



    #Implementation to get meta data for each dynamic item id stored in json file
  Scenario Outline: user retrieves the metadata of each datat type for a catalog
    Given A query param with "" and "" and supply authorized users, contentType and Accept headers
    And user makes a Get request with "<url>" and verify "<responseCode>" using "<inputJson>" from "<inputFile>" and write to "<outPutFile>" using "<outPutJson>"
    Examples:
      | url                                                                | responseCode | inputJson          | inputFile                             | outPutFile                                    | outPutJson |
      | components/RedshiftCatalog/item/RedshiftCatalog.Cluster:::dynamic  | 200          | $..Cluster.id      | response/amazonS3/actual/itemIds.json | response/amazonS3/actual/clusterMetadata.json |            |
      | components/RedshiftCatalog/item/RedshiftCatalog.Service:::dynamic  | 200          | $..has_Service.id  | response/amazonS3/actual/itemIds.json | response/amazonS3/actual/serviceMetadata.json |            |
      | components/RedshiftCatalog/item/RedshiftCatalog.Database:::dynamic | 200          | $..has_Database.id | response/amazonS3/actual/itemIds.json | response/amazonS3/actual/serviceMetadata.json |            |


    #Implementation to delete the items from postgres database[say for example deleting catalogued bucket data from AWS and analysis id]
  Scenario Outline: user deletes the item from database using dynamic id stored in json
    Given A query param with "" and "" and supply authorized users, contentType and Accept headers
    And user makes a delete request with "<url>" and verify "<responseCode>" using "<inputJson>" from "<inputFile>"
    Examples:
      | url                                           | responseCode | inputJson           | inputFile                             |
      | items/Default/Default.has_Directory:::dynamic | 204          | $..has_Directory.id | response/amazonS3/actual/itemIds.json |
      | items/Default/Default.has_Analysis:::dynamic  | 204          | $..has_Analysis.id  | response/amazonS3/actual/itemIds.json |


    #Implementation to get dynamic id from postgres and store it in a file
  Scenario Outline:user connects to database and retrieves the class id function id and lineage hop ids
    Given user connects "<database>" and "<retrive>" by running query with "<catalog>""<type>""<name>""<asg_scopeid>" and store the item id results in "<targetFile>" using "<jsonpath>"
    Examples:
      | database      | retrive     | catalog | type       | name          | asg_scopeid | targetFile                  | jsonpath     |
      | APPDBPOSTGRES | FileID      | Default | File       | spark.Parquet |             | response/Lineage/depID.json | $.classID    |
      | APPDBPOSTGRES | FieldID     | Default | Field      | _c0           |             | response/Lineage/depID.json | $.fileID     |
      | APPDBPOSTGRES | FieldIDList | Default | Field      |               |             | response/Lineage/depID.json | $.fileID     |
      | APPDBPOSTGRES | ClassID     | Default | Class      | QATest212     |             | response/Lineage/depID.json | $.classID    |
      | APPDBPOSTGRES | FunctionID  | Default |            | processMain   |             | response/Lineage/depID.json | $.functionID |
      | APPDBPOSTGRES | LineageID   | Default | LineageHop |               |             | response/Lineage/depID.json |              |


    #Implementation to compare the expected json which we define the data against the actual data retrieved from API end points
  Scenario Outline: Validate the catalogued count and cluster metadata results in IDC platform
    Given user validates "<expectedValues>" with "<actualValues>" for "<valueType>" using "<expectedJsonPath>" and "<actualJsonPath>"
    Examples:
      | expectedValues                                           | actualValues                                  | valueType         | expectedJsonPath                                | actualJsonPath                                                                             |
      | response/amazonS3/expected/amazonS3ExpectedJsonData.json | response/amazonS3/actual/catalogItems.json    | stringCompare     | $..totalCount                                   | $..count                                                                                   |
      | response/amazonS3/expected/amazonS3ExpectedJsonData.json | response/amazonS3/actual/facetWiseCount.json  | intListCompare    | $..MetaData.facetCounts.type_s..count           | $.facetCounts..type_s..count                                                               |
      | response/amazonS3/expected/amazonS3ExpectedJsonData.json | response/amazonS3/actual/clusterMetadata.json | stringCompare     | $..clusterID                                    | $..data.[0].[?(@.caption=='Metadata')]..attributes.[?(@.caption=='ID')]..value             |
      | response/amazonS3/expected/amazonS3ExpectedJsonData.json | response/amazonS3/actual/clusterMetadata.json | stringListCompare | $..clusterMetaData..taglist..techTag            | $..[?(@.caption=='tag')].data..name                                                        |
      | response/Lineage/expectedHopData.json                    | response/Lineage/depID.json                   | stringListCompare | $..hopName                                      | $.hopsList                                                                                 |
      | response/amazonS3/expected/amazonS3ExpectedJsonData.json | response/amazonS3/actual/serviceMetadata.json | stringCompare     | $..serviceID                                    | $..data.[0].[?(@.caption=='Metadata')]..attributes.[?(@.caption=='ID')]..value             |
      | response/amazonS3/expected/amazonS3ExpectedJsonData.json | response/amazonS3/actual/serviceMetadata.json | stringListCompare | $..serviceMetaData..has_Directory..name         | $.data.[0]..[?(@.caption=='has_Directory')].data..name                                     |
      | response/amazonS3/expected/amazonS3ExpectedJsonData.json | response/amazonS3/actual/serviceMetadata.json | stringListCompare | $..serviceMetaData..taglist..techTag            | $..[?(@.caption=='tag')].data..name                                                        |
      | response/amazonS3/expected/amazonS3ExpectedJsonData.json | response/amazonS3/actual/dirMetadata.json     | stringCompare     | $..directoryID                                  | $..[0].[?(@.caption=='Metadata')]..attributes.[?(@.caption=='ID')]..value                  |
      | response/amazonS3/expected/amazonS3ExpectedJsonData.json | response/amazonS3/actual/dirMetadata.json     | intCompare        | $..directoryMetaData..directorySize             | $..[0].[?(@.caption=='Metadata')]..attributes.[?(@.caption=='Directory size')]..value      |
      | response/amazonS3/expected/amazonS3ExpectedJsonData.json | response/amazonS3/actual/dirMetadata.json     | intCompare        | $..directoryMetaData..sizeOfFiles               | $..[0].[?(@.caption=='Metadata')]..attributes.[?(@.caption=='Size of files')]..value       |
      | response/amazonS3/expected/amazonS3ExpectedJsonData.json | response/amazonS3/actual/dirMetadata.json     | stringCompare     | $..directoryMetaData..location                  | $..[0].[?(@.caption=='Metadata')]..attributes.[?(@.caption=='Location')]..value            |
      | response/amazonS3/expected/amazonS3ExpectedJsonData.json | response/amazonS3/actual/dirMetadata.json     | stringCompare     | $..directoryMetaData..sizeOfSubDir              | $..[?(@.caption=='Metadata')]..attributes.[?(@.caption=='Size of sub-directories')]..value |
      | response/amazonS3/expected/amazonS3ExpectedJsonData.json | response/amazonS3/actual/dirMetadata.json     | stringCompare     | $..directoryMetaData..directoryID               | $..data.[0].[?(@.caption=='Metadata')]..attributes.[?(@.caption=='ID')]..value             |
      | response/amazonS3/expected/amazonS3ExpectedJsonData.json | response/amazonS3/actual/dirMetadata.json     | stringListCompare | $..directoryMetaData.table..has_Files..name     | $..[0].[?(@.caption=='Files')].data..name                                                  |
      | response/amazonS3/expected/amazonS3ExpectedJsonData.json | rsponse/amazonS3/actual/dirMetadata.json      | stringListCompare | $..directoryMetaData.table..has_Directory..name | $..[0].[?(@.caption=='has_Directory')].data..name                                          |


    #Implementation to get the dynamic lineage hop ids from database for File System related sources
  Scenario Outline:user connects to database and retrieves the class id function id and lineage hop ids
    Given user connects "<database>" and "<retrive>" by running query with "<catalog>""<type>""<name>""<asg_scopeid>" and store the item id results in "<targetFile>" using "<jsonpath>"
    Examples:
      | database      | retrive    | catalog | type       | name        | asg_scopeid | targetFile                  | jsonpath     |
      | APPDBPOSTGRES | ClassID    | Default | Class      | QATest212   |             | response/Lineage/depID.json | $.classID    |
      | APPDBPOSTGRES | FunctionID | Default |            | processMain |             | response/Lineage/depID.json | $.functionID |
      | APPDBPOSTGRES | LineageID  | Default | LineageHop |             |             | response/Lineage/depID.json |              |


    #Implementation to get the dynamic field id's from database
  Scenario Outline:user connects to database and retrieves the class id function id and lineage hop ids
    Given user connects "<database>" and "<retrive>" by running query with "<catalog>""<type>""<name>""<asg_scopeid>" and store the item id results in "<targetFile>" using "<jsonpath>"
    Examples:
      | database      | retrive     | catalog | type  | name          | asg_scopeid | targetFile                  | jsonpath |
      | APPDBPOSTGRES | FileID      | Default | File  | Spark.Parquet |             | response/Lineage/depID.json |          |
      | APPDBPOSTGRES | FieldID     | Default | Field | _c0           |             | response/Lineage/depID.json | $.fileID |
      | APPDBPOSTGRES | FieldIDList | Default | Field |               |             | response/Lineage/depID.json | $.fileID |


   #Implentation to get multiple ID's from database using like query and store it in a json file
  Scenario Outline:SC#11user retrieves the total items for a catalog and copy to a json file
    And user connects "<database>" and "<retrive>" by running query with "<catalog>""<type>""<name>""<asg_scopeid>" and store the item id results in "<targetFile>" using "<jsonpath>"
    Examples:
      | database      | retrive     | catalog | type      | name                  | asg_scopeid | targetFile                                         | jsonpath    |
      | APPDBPOSTGRES | multipleIDs | Default | Directory | %asgqatestautomation% |             | response/amazonS3/actual/multipleDirectoryIDs.json | DirectoryID |



  #Implementation to delete the multiple id's which are stored in json
  Scenario Outline: SC11#user deletes the item from database using dynamic id stored in json
    Given A query param with "" and "" and supply authorized users, contentType and Accept headers
    And user makes "<request>" with "<url>"  for id from "<file>" "<type>" using "<path>" and verify "<statusCode>","<resonseValue>" using "<jsonPath>"
    Examples:
      | request | url                                       | file                                               | type | path             | statusCode | resonseValue | jsonPath |
      | Delete  | items/Default/Default.has_Directory:::DYN | response/amazonS3/actual/multipleDirectoryIDs.json | List | $.DirectoryID[*] | 204        |              |          |


    #Implementation to get Lineage From,Lineage To and Mode for file system lineage hops
  Scenario Outline: user retrieves the  Lineage From and Lineage To Name from lineage hop ids
    Given A query param with "" and "" and supply authorized users, contentType and Accept headers
    And user get source and target name from REST "<url>" for each "<item>" lineage hop ids from "<inputFile>" and store source and target  name in "<outputFile>"
    Examples:
      | url                                                                      | item      | inputFile                   | outputFile                                |
      | searches/Default/query/queryDiagramOutRecursive/Default.LineageHop:::DYN | QATest212 | response/Lineage/depID.json | response/Lineage/LineageSourceTarget.json |

  Scenario: user compares two json files object by object
    Then expected JSON "Constant.REST_DIR/response/Lineage/expectedHopData.json" data should be equal to actual "Constant.REST_DIR/response/Lineage/LineageSourceTarget.json" data

  #Implementation to validate the log information
  Scenario: Log validations for all plugins
    Given Analysis log should display the analysis info for below parameters
      | type | logValue                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | logCode       | pluginName         | removableText  |
      | INFO | Plugin started                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | ANALYSIS-0019 |                    |                |
      | INFO | Plugin Name:LocalFileCollector, Plugin Type:collector, Plugin Version:1.0.0.SNAPSHOT, Node Name:InternalNode, Host Name:2dd09a954f6b, Plugin Configuration name:BasicFunctionality                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | ANALYSIS-0071 | LocalFileCollector | Plugin Version |
      | INFO | ANALYSIS-0073: Plugin LocalFileCollector Configuration: ---  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: name: "BasicFunctionality"  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: pluginVersion: "LATEST"  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: label:  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:   : "BasicFunctionality"  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: catalogName: "Default"  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: eventClass: null  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: eventCondition: null  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: nodeCondition: "type=='internal'"  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: maxWorkSize: 100  2020-03-02 06:55:55.946 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: tags:  2020-03-02 06:55:55.947 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: - "BasicFunctionality"  2020-03-02 06:55:55.947 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: pluginType: "COLLECTOR"  2020-03-02 06:55:55.953 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: dataSource: null  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: credential: null  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: businessApplicationName: null  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: dryRun: false  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: filter:  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:   filters: []  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:   deltaTime: null  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:   extraFilters:  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:     filefilters:  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:     - class: "com.asg.dis.common.analysis.dom.FileFilter"  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:       label:  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:         : "DemoFilter"  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:       tags: null  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:       fileMode: "include"  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:       objectType: "file"  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:       expressionType: "simple"  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:       expressions:  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:       - ""  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration:   maxHits: null  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: contentAnalyzerPlugin: "UnstructuredDataAnalyzer"  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: root: "/lfc_testfiles"  2020-03-02 06:55:55.954 INFO - ANALYSIS-0073: Plugin LocalFileCollector Configuration: incrementalRun: true | ANALYSIS-0073 | LocalFileCollector |                |
      | INFO | Plugin LocalFileCollector Start Time:2020-03-02 06:55:55.916, End Time:2020-03-02 06:56:01.436, Processed Count:10, Errors:0, Warnings:0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | ANALYSIS-0072 | LocalFileCollector |                |
      | INFO | Plugin completed (elapsed time in (HH:MM:SS.ms): 00:00:05.520)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | ANALYSIS-0020 |                    |                |


      #Implementation to get dynamic id from postgres db and store it in json
  Scenario Outline: user retrieves the total items for a catalog and copy to a json file
    Given user connects "<database>" and run query using "<catalog>" with "<name>" and "<type>" and store the item id results in "<targetFile>" using "<jsonpath>"
    Examples:
      | database      | catalog | name                                            | type | targetFile                            | jsonpath            |
      | APPDBPOSTGRES | Default | amazonaws.com                                   |      | response/amazonS3/actual/itemIds.json | $..Cluster.id       |
      | APPDBPOSTGRES | Default | AmazonS3                                        |      | response/amazonS3/actual/itemIds.json | $..has_Service.id   |
      | APPDBPOSTGRES | Default | asgqas3testautomation                           |      | response/amazonS3/actual/itemIds.json | $..has_Directory.id |
      | APPDBPOSTGRES | Default | avro.xlsx                                       |      | response/amazonS3/actual/itemIds.json | $..has_File.id      |
      | APPDBPOSTGRES | Default | cataloger/AmazonS3Cataloger/AmazonS3Catalog%DYN |      | response/amazonS3/actual/itemIds.json | $..has_Analysis.id  |


    #Implementation to get lineage id's for specific type
  Scenario Outline:user retrieves ids for specific item name
    Given user connects "<database>" and run query using "<catalog>" with "<name>" and "<type>" and store the item id results in "<targetFile>"
    Examples:
      | database      | catalog | name                                     | type  | targetFile                                                       |
      | APPDBPOSTGRES | Default | viewfromsingletable                      | Table | Constant.REST_DIR/response/Lineage/actualJsonFiles/tableIDs.json |
      | APPDBPOSTGRES | Default | viewfromsingletablewithcondt             | Table | Constant.REST_DIR/response/Lineage/actualJsonFiles/tableIDs.json |
      | APPDBPOSTGRES | Default | viewfromdiffschemamultipletablewithcondt | Table | Constant.REST_DIR/response/Lineage/actualJsonFiles/tableIDs.json |


    #Copy the retrieved id's from one file to another json file
  Scenario Outline: user copy the id to payload
    Given user copy the id from "<file>" to "<payloadFile>" with "<type>" using "<jsonPath>"
    Examples:
      | file                                                             | payloadFile                                                      | type  | jsonPath                                    |
      | Constant.REST_DIR/response/Lineage/actualJsonFiles/tableIDs.json | Constant.REST_DIR/response/Lineage/payloads/viewPayload.json     | Table | $..viewfromsingletable                      |
      | Constant.REST_DIR/response/Lineage/actualJsonFiles/tableIDs.json | Constant.REST_DIR/response/Lineage/payloads/ControlPayload.json  | Table | $..viewfromsingletablewithcondt             |
      | Constant.REST_DIR/response/Lineage/actualJsonFiles/tableIDs.json | Constant.REST_DIR/response/Lineage/payloads/MultiHopPayload.json | Table | $..viewfromdiffschemamultipletablewithcondt |


    #retrieve the lineage edges and store the lineage value in file
  Scenario Outline: user get the response of lineage edges and store the lineage values in file
    Given user hits "<request>" with "<url>" "<body>" for id from "<file>" "<type>" using "<path>" and verify "<statusCode>" and store response of "<jsonPath>" in "<targetFile>" for "<name>"
    Examples:
      | request | url                                                                                     | body                                                             | file                                                             | type | path                                        | statusCode | jsonPath   | targetFile                                                                  | name                                     |
      | Post    | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | Constant.REST_DIR/response/Lineage/payloads/viewPayload.json     | Constant.REST_DIR/response/Lineage/actualJsonFiles/tableIDs.json | List | $..viewfromsingletable                      | 200        | $..edges.* | Constant.REST_DIR/response/Lineage/actualJsonFiles/viewLineageData.json     | viewfromsingletable                      |
      | Post    | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | Constant.REST_DIR/response/Lineage/payloads/ControlPayload.json  | Constant.REST_DIR/response/Lineage/actualJsonFiles/tableIDs.json | List | $..viewfromsingleexttablewithcondt          | 200        | $..edges.* | Constant.REST_DIR/response/Lineage/actualJsonFiles/controlLineageData.json  | viewfromsingletablewithcondt             |
      | Post    | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | Constant.REST_DIR/response/Lineage/payloads/MultiHopPayload.json | Constant.REST_DIR/response/Lineage/actualJsonFiles/tableIDs.json | List | $..viewfromdiffschemamultipletablewithcondt | 200        | $..edges.* | Constant.REST_DIR/response/Lineage/actualJsonFiles/multiHopLineageData.json | viewfromdiffschemamultipletablewithcondt |

    #implentation to replace the source and target id with name
  Scenario Outline: user retrieve the name of id for each value stored in lineage data file
    Given user gets the name for each id stored in "<LineageFile>" under "<TableName>" and replace the id with name
    Examples:
      | LineageFile                                                                 | TableName                                |
      | Constant.REST_DIR/response/Lineage/actualJsonFiles/viewLineageData.json     | viewfromsingletable                      |
      | Constant.REST_DIR/response/Lineage/actualJsonFiles/controlLineageData.json  | viewfromsingletablewithcondt             |
      | Constant.REST_DIR/response/Lineage/actualJsonFiles/multiHopLineageData.json | viewfromdiffschemamultipletablewithcondt |

    #compares two json file object by object
  Scenario Outline: user compares the expected lineage data and actual lineage data
    Given user json assert between "<expectedJson>" data and "<actualJson>" data
    Examples:
      | expectedJson                                                              | actualJson                                                                  |
      | Constant.REST_DIR/response/Lineage/expectedJsonFiles/viewLineageData.json | Constant.REST_DIR/response/Lineage/actualJsonFiles/viewLineageData.json     |
      | Constant.REST_DIR/response/Lineage/expectedJsonFiles/viewLineageData.json | Constant.REST_DIR/response/Lineage/actualJsonFiles/controlLineageData.json  |
      | Constant.REST_DIR/response/Lineage/expectedJsonFiles/viewLineageData.json | Constant.REST_DIR/response/Lineage/actualJsonFiles/multiHopLineageData.json |


    #implementation to get the metadata value from api response and store it in file
  Scenario Outline: user retrieves the metadata of each item for a catalog
    Given user hits "<ServiceName>" for "<user>" with "<Header>" and "<Query>" "<Param>" for request "<type>" with "<url>" and "<body>" and verify "<response code>" and "<response message>" and store value in "<filePath>" using "<jsonPath>"
    Examples:
      | ServiceName | user       | Header           | Query | Param | type | url                                                                                                                             | body                                              | response code | response message | filePath                                       | jsonPath             |
      | IDC         | TestSystem | application/json |       |       | Post | searches/fulltext/REDSHIFTCATALOG?query=*&what=id&what=catalog&advanced=false&natural=false&limit=2500&offset=0&limitFacets=100 | response/amazonS3/body/getFacetsCountRequest.json | 200           |                  | response/amazonS3/actual/facetWiseCount.json   | $..Cluster.id        |
      | IDC         | TestSystem | application/json |       |       | Get  | components/S3AmazonSC1/item/dynamicClusterID                                                                                    |                                                   | 200           |                  | response/amazonS3/actual/clusterMetadata.json  | $..has_Service.id    |
      | IDC         | TestSystem | application/json |       |       | Get  | components/S3AmazonSC1/item/dynamicServiceID                                                                                    |                                                   | 200           |                  | response/amazonS3/actual/serviceMetadata.json  | $..has_Database.id   |
      | IDC         | TestSystem | application/json |       |       | Get  | components/S3AmazonSC1/item/dynamicDirID                                                                                        |                                                   | 200           |                  | response/amazonS3/actual/dirMetadata.json      | $..has_Schema.id     |
      | IDC         | TestSystem | application/json |       |       | Get  | components/S3AmazonSC1/dynamicFileID                                                                                            |                                                   | 200           |                  | response/amazonS3/actual/fileMetadata.json     | $..has_Table.id      |
      | IDC         | TestSystem | application/json |       |       | Get  | components/S3AmazonSC1/item/dynamicAnalysisID                                                                                   |                                                   | 200           |                  | response/amazonS3/actual/analysisMetadata.json | $..has_Column.id     |
      | IDC         | TestSystem | application/json |       |       | Get  | components/S3AmazonSC1/item/dynamicContentID                                                                                    |                                                   | 200           |                  | response/amazonS3/actual/analysisLog.json      | $..has_Constraint.id |


    #implementation to delete the object node from json file
  Scenario: Delete the json key from json value
    Given user delete "json array" in json file "Constant.REST_DIR/response/Lineage/bulkLineage.json" for below param
      | Spark_CsvToSnowflake |

    #class path-$..classIDs..[*].*~
    #function path-$..functionIDs..[*].*~
    #implementation to get all function ids and lineage hop names for the given classes $..lineageIDs.[*].*~
  Scenario Outline:user connects to database and retrieves all lineage id and lineage hop ids
    Given user connects "<database>" and "<retrive>" by running query with "<catalog>""<type>""<name>""<asg_scopeid>" and store the item id results in "<targetFile>" using "<jsonpath>"
    Examples:
      | database      | retrive              | catalog | type  | name                          | asg_scopeid | targetFile                        | jsonpath |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Class | Select_Drop                   |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Class | DropDuplicates_Dropna_OrderBy |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Class | Sort_SortwithPartition        |             | response/Lineage/bulkLineage.json |          |
#      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Class | NoSourceTarget                 |             | response/Lineage/bulkLineage.json |          |
#      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Class | JoinExample                    |             | response/Lineage/bulkLineage.json |          |
#      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Class | Alias_Distinct                 |             | response/Lineage/bulkLineage.json |          |
#      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Class | WithColumnRenamed              |             | response/Lineage/bulkLineage.json |          |
#      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Class | RepartitionByRange             |             | response/Lineage/bulkLineage.json |          |
#      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Class | UnionByName                    |             | response/Lineage/bulkLineage.json |          |

  Scenario: user get all lineage hop id's for below datatable
    Given user retrieves all lineage hops values for below parameters
      | database      | retrive              | catalog | type  | lineageFlow      | name                          | asg_scopeid | targetFile                        | jsonpath |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Class | functions-->hops | Select_Drop                   |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Class | functions-->hops | DropDuplicates_Dropna_OrderBy |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Class | functions-->hops | NoSourceTarget                |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Class | functions-->hops | JoinExample                   |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Class | functions-->hops | Alias_Distinct                |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Class | functions-->hops | WithColumnRenamed             |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Class | functions-->hops | RepartitionByRange            |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Class | functions-->hops | UnionByName                   |             | response/Lineage/bulkLineage.json |          |


  Scenario: user get all lineage hops id,s and get the source target value from database
    Given user retrieves all lineage hops values for below parameters
      | database      | retrive              | catalog | type  | lineageFlow  | name                                     | asg_scopeid | targetFile                        | jsonpath |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfromsingletablewithcondt             |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfrommultipletablewithcondt           |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfromdiffschemamultipletablewithcondt |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfrommultipletableusingjoin           |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfromtableusingunionall               |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfromcomplexstatement                 |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfromsingletable                      |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfrommultipletable                    |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfromdiffschemamultipletable          |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfromview                             |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfrommultipleview                     |             | response/Lineage/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfromtableandview                     |             | response/Lineage/bulkLineage.json |          |
    And user hits the following API with given parameters and store the api response in file
      | ServiceName | ServiceUser    | Header           | Query | Param | type | url                                                                                     | bodyFile                          | path                                                       | response code | response message | jsonPath | targetFile                              |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\Lineage\bulkLineage.json | $.lineagePayLoads.viewfromsingletablewithcondt             | 200           |                  | edges    | response\Lineage\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\Lineage\bulkLineage.json | $.lineagePayLoads.viewfrommultipletablewithcondt           | 200           |                  | edges    | response\Lineage\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\Lineage\bulkLineage.json | $.lineagePayLoads.viewfromdiffschemamultipletablewithcondt | 200           |                  | edges    | response\Lineage\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\Lineage\bulkLineage.json | $.lineagePayLoads.viewfrommultipletableusingjoin           | 200           |                  | edges    | response\Lineage\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\Lineage\bulkLineage.json | $.lineagePayLoads.viewfromtableusingunionall               | 200           |                  | edges    | response\Lineage\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\Lineage\bulkLineage.json | $.lineagePayLoads.viewfromcomplexstatement                 | 200           |                  | edges    | response\Lineage\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\Lineage\bulkLineage.json | $.lineagePayLoads.viewfromsingletable                      | 200           |                  | edges    | response\Lineage\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\Lineage\bulkLineage.json | $.lineagePayLoads.viewfrommultipletable                    | 200           |                  | edges    | response\Lineage\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\Lineage\bulkLineage.json | $.lineagePayLoads.viewfromdiffschemamultipletable          | 200           |                  | edges    | response\Lineage\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\Lineage\bulkLineage.json | $.lineagePayLoads.viewfromview                             | 200           |                  | edges    | response\Lineage\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\Lineage\bulkLineage.json | $.lineagePayLoads.viewfrommultipleview                     | 200           |                  | edges    | response\Lineage\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\Lineage\bulkLineage.json | $.lineagePayLoads.viewfromtableandview                     | 200           |                  | edges    | response\Lineage\actualLineagehops.json |
    And user retrieves the name of each id stored in files with below parameters
      | fileName                                                  | JsonPath                                 |
      | Constant.REST_DIR/response/Lineage/actualLineagehops.json | viewfromsingletablewithcondt             |
      | Constant.REST_DIR/response/Lineage/actualLineagehops.json | viewfrommultipletablewithcondt           |
      | Constant.REST_DIR/response/Lineage/actualLineagehops.json | viewfromdiffschemamultipletablewithcondt |
      | Constant.REST_DIR/response/Lineage/actualLineagehops.json | viewfrommultipletableusingjoin           |
      | Constant.REST_DIR/response/Lineage/actualLineagehops.json | viewfromtableusingunionall               |
      | Constant.REST_DIR/response/Lineage/actualLineagehops.json | viewfromcomplexstatement                 |
      | Constant.REST_DIR/response/Lineage/actualLineagehops.json | viewfromsingletable                      |
      | Constant.REST_DIR/response/Lineage/actualLineagehops.json | viewfrommultipletable                    |
      | Constant.REST_DIR/response/Lineage/actualLineagehops.json | viewfromdiffschemamultipletable          |
      | Constant.REST_DIR/response/Lineage/actualLineagehops.json | viewfromview                             |
      | Constant.REST_DIR/response/Lineage/actualLineagehops.json | viewfrommultipleview                     |
      | Constant.REST_DIR/response/Lineage/actualLineagehops.json | viewfromtableandview                     |


    ##Rest api to update the policy tags
  Scenario Outline: Update policy tags
    Given endpoint for "<ServiceName>" for "<ServiceUser>" having "<Header>" and query param with "<Query>" "<Param>" for request type "<type>" with url "<url>" and body as string from "<bodyFile>" with "<path>" and verify "<response code>" and "<response message>" using "<jsonPath>"
    Examples:
      | ServiceName | ServiceUser    | Header           | Query | Param | type   | url                                                                                               | bodyFile                                   | path        | response code | response message | jsonPath |
      | IDC         | TestSystemUser | application/json | raw   | false | Put    | policy/tagging/actions                                                                            | payloads/ida/policyEngine/policy1.1.0.json | $.PIINewTag | 204           |                  |          |
      | IDC         | TestSystemUser | application/json | raw   | false | Delete | policy/tagging/analysis?dataType=STRUCTURED&pluginName=SnowflakeDBAnalyzer&technologies=Snowflake |                                            |             | 204           |                  |          |

    ##Method to update your node name in data source and configuration file
  Scenario:PreCondition#Node Name update in configuration and data source files
    Given User update the ambari host in following files using json path
      | filePath                              | jsonPath                                        | node            |
      | ida/CAEGitCollector/datasource.json   | $..GitEntryPointDS.configurations..ServerName   | HeadlessEDINode |
      | ida/CAEGitCollector/datasource.json   | $..GitFeedLoadDS.configurations..ServerName     | HeadlessEDINode |
      | ida/CAEGitCollector/pluginconfig.json | $.CAEGitSingleFile.configurations.nodeCondition | HeadlessEDINode |
      | ida/CAEGitCollector/pluginconfig.json | $.GitLoadIncrTrue.configurations.nodeCondition  | HeadlessEDINode |

  Scenario: ProcessedCount Verification
    Given Load the count of the type values to a Map
      | analysis                         | type        | DBName    | queryName          | queryPage | actualcount |
      | bulk/CAEDDLoader/CAEOracleDDLoad | Table       | ORACLE12C | getTableCount      | CAEORACLE | fromSource  |
      | bulk/CAEDDLoader/CAEOracleDDLoad | Column      | ORACLE12C | getColumnCount     | CAEORACLE | fromSource  |
      | bulk/CAEDDLoader/CAEOracleDDLoad | Index       | ORACLE12C | getIndexCount      | CAEORACLE | fromSource  |
      | bulk/CAEDDLoader/CAEOracleDDLoad | Constraint  | ORACLE12C | getConstraintCount | CAEORACLE | fromSource  |
      | bulk/CAEDDLoader/CAEOracleDDLoad | Trigger     | ORACLE12C | getTriggerCount    | CAEORACLE | fromSource  |
      | bulk/CAEDDLoader/CAEOracleDDLoad | Routine     | ORACLE12C | getRoutineCount    | CAEORACLE | fromSource  |
      | bulk/CAEDDLoader/CAEOracleDDLoad | Cluster     |           |                    |           | 1           |
      | bulk/CAEDDLoader/CAEOracleDDLoad | Service     |           |                    |           | 2           |
      | bulk/CAEDDLoader/CAEOracleDDLoad | Database    |           |                    |           | 1           |
      | bulk/CAEDDLoader/CAEOracleDDLoad | DataType    |           |                    |           | 18          |
      | bulk/CAEDDLoader/CAEOracleDDLoad | DataPackage |           |                    |           | 6           |
      | bulk/CAEDDLoader/CAEOracleDDLoad | Schema      |           |                    |           | 4           |
      | bulk/CAEDDLoader/CAEOracleDDLoad | Analysis    |           |                    |           | 1           |
    Given Verify the Processed Count with the API call
      | Action                    | type        | node        | configName      | analysisItemName                 |
      | ItemViewMap               | Table       |             |                 | bulk/CAEDDLoader/CAEOracleDDLoad |
      | ItemViewMap               | Column      |             |                 |                                  |
      | ItemViewMap               | Index       |             |                 |                                  |
      | ItemViewMap               | Constraint  |             |                 |                                  |
      | ItemViewMap               | Trigger     |             |                 |                                  |
      | ItemViewMap               | Routine     |             |                 |                                  |
      | ItemViewMap               | Cluster     |             |                 |                                  |
      | ItemViewMap               | Service     |             |                 |                                  |
      | ItemViewMap               | Database    |             |                 |                                  |
      | ItemViewMap               | DataType    |             |                 |                                  |
      | ItemViewMap               | DataPackage |             |                 |                                  |
      | ItemViewMap               | Schema      |             |                 |                                  |
      | ItemViewMap               | Analysis    |             |                 |                                  |
      | VerifyCountInItemView     |             |             |                 |                                  |
      | VerifyCountInPluginConfig |             | HeadlessEDI | CAEOracleDDLoad |                                  |