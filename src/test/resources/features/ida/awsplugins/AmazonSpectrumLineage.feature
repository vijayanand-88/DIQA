@AmazonSpectrum
Feature:AmazonSpectrum: verification of Lineage for AmazonRedshiftProcessor Plugin and Lineage between the File Cataloger and Spectrum tables
  Description: MLP-17257 Validation of Redshift lineage support for external tables in Redshift spectrum and Redshift views
  MLP - 16095 Create a Redshift View Lineage for Simple view on multiple tables

############################################################Pre condition - Set the Credential for Redshift, Spectrum, S3, Csv, Avro, Parquet, Json###########################################################################################################################

  @MLP-17257 @sanity @positive @regression
  Scenario Outline: Add valid Credentials for AmazonRedshift, Spectrum, S3, Csv, Avro, Parquet, Json
    Given endpoint for "<ServiceName>" for "<ServiceUser>" having "<Header>" and query param with "<Query>" "<Param>" for request type "<type>" with url "<url>" and body "<body>" and verify "<response code>" and "<response message>" using "<jsonPath>"
    Examples:
      | ServiceName | ServiceUser    | Header           | Query | Param | type | url                                               | body                                                                | response code | response message | jsonPath |
      | IDC         | TestSystemUser | application/json |       |       | Put  | settings/credentials/Redshift_Credentials         | ida/AmazonRedshiftPostProcessorPayloads/CredentialsSuccess.json     | 200           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Put  | settings/credentials/AWS_Amazon_Credentials       | ida/AmazonRedshiftPostProcessorPayloads/Amazons3Credentials.json    | 200           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Put  | settings/credentials/Spectrum_Credentials         | ida/MLP-14361_Payloads/CredentialsSuccess.json                      | 200           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Put  | settings/credentials/Spec_ValidJSONCredentials    | ida/s3JsonPayloads/Credentials/awsJSONS3ValidCredentials.json       | 200           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Put  | settings/credentials/Spec_AWS_CSV_Credentials     | ida/s3CSVPayloads/credentials/awsCredentials.json                   | 200           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Put  | settings/credentials/Spec_ValidParquetCredentials | ida/s3ParquetPayloads/Credentials/awsParquetS3ValidCredentials.json | 200           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Put  | settings/credentials/Spec_ValidAVROCredentials    | ida/s3AvroPayloads/Credentials/avroS3ValidCredentials.json          | 200           |                  |          |

#
#    ########################################################################Scenario01 - Verify the Lineage for the View created in Redshift from the Spectrum External Tables####################################################################################################################################################################################################################
#
#
  #MLP-17257 - #6888707 to #6888722
   #MLP-16095 - #6887298 to #6888721
  Scenario Outline:MLP-17257:SC#1Run the Plugin                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      configurations for DataSource and AmazonS3Cataloger
    Given endpoint for "<ServiceName>" for "<ServiceUser>" having "<Header>" and query param with "<Query>" "<Param>" for request type "<type>" with url "<url>" and body "<body>" and verify "<response code>" and "<response message>" using "<jsonPath>"
    Examples:
      | ServiceName | ServiceUser    | Header           | Query | Param | type         | url                                                                                       | body                                                                         | response code | response message      | jsonPath                                                   |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonRedshiftDataSource                                               | ida/AmazonRedshiftPostProcessorPayloads/AmazonRedshiftDataSource.json        | 204           |                       |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonRedshiftDataSource                                               |                                                                              | 200           | RedshiftDataSource    |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumDataSource                                               | ida/AmazonRedshiftPostProcessorPayloads/AmazonSpectrumDataSource.json        | 204           |                       |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumDataSource                                               |                                                                              | 200           | SpectrumDataSource    |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonS3DataSource                                                     | ida/AmazonRedshiftPostProcessorPayloads/AmazonS3DataSourceConfig.json        | 204           |                       |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonS3DataSource                                                     |                                                                              | 200           | AmazonS3DataSource    |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonRedshiftCataloger                                                | ida/AmazonRedshiftPostProcessorPayloads/RedshiftCataloger_filter.json        | 204           |                       |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonRedshiftCataloger                                                |                                                                              | 200           | RedShiftCataloger     |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonRedshiftCataloger/RedShiftCataloger |                                                                              | 200           | IDLE                  | $.[?(@.configurationName=='RedShiftCataloger')].status     |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AmazonRedshiftCataloger/RedShiftCataloger  | ida/AmazonRedshiftPostProcessorPayloads/empty.json                           | 200           |                       |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonRedshiftCataloger/RedShiftCataloger |                                                                              | 200           | IDLE                  | $.[?(@.configurationName=='RedShiftCataloger')].status     |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumCataloger                                                | ida/AmazonRedshiftPostProcessorPayloads/RedshiftSpectrumCataloger.json       | 204           |                       |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumCataloger                                                |                                                                              | 200           | SpectrumCataloger     |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                              | 200           | IDLE                  | $.[?(@.configurationName=='SpectrumCataloger')].status     |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger  | ida/AmazonRedshiftPostProcessorPayloads/empty.json                           | 200           |                       |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                              | 200           | IDLE                  | $.[?(@.configurationName=='SpectrumCataloger')].status     |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonS3Cataloger                                                      | ida/AmazonRedshiftPostProcessorPayloads/AmazonS3Cataloger_Configuration.json | 204           |                       |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonS3Cataloger                                                      |                                                                              | 200           | AmazonS3Cataloger     |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonS3Cataloger/*                       |                                                                              | 200           | IDLE                  | $.[?(@.configurationName=='AmazonS3Cataloger')].status     |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AmazonS3Cataloger/*                        | ida/AmazonRedshiftPostProcessorPayloads/empty.json                           | 200           |                       |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonS3Cataloger/*                       |                                                                              | 200           | IDLE                  | $.[?(@.configurationName=='AmazonS3Cataloger')].status     |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumLinker                                                   | ida/AmazonRedshiftPostProcessorPayloads/AmazonSpectrumLinker.json            | 204           |                       |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumLinker                                                   |                                                                              | 200           | AmazonSpectrumLinker  |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/*                       |                                                                              | 200           | IDLE                  | $.[?(@.configurationName=='AmazonSpectrumLinker')].status  |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/linker/AmazonSpectrumLinker/*                        | ida/AmazonRedshiftPostProcessorPayloads/empty.json                           | 200           |                       |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/*                       |                                                                              | 200           | IDLE                  | $.[?(@.configurationName=='AmazonSpectrumLinker')].status  |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonRedshiftPostProcessor                                            | ida/AmazonRedshiftPostProcessorPayloads/RedshiftPostProcessor_filter.json    | 204           |                       |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonRedshiftPostProcessor                                            |                                                                              | 200           | RedshiftPostProcessor |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/InternalNode/lineage/AmazonRedshiftPostProcessor/*            |                                                                              | 200           | IDLE                  | $.[?(@.configurationName=='RedshiftPostProcessor')].status |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/InternalNode/lineage/AmazonRedshiftPostProcessor/*             | ida/AmazonRedshiftPostProcessorPayloads/empty.json                           | 200           |                       |                                                            |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/InternalNode/lineage/AmazonRedshiftPostProcessor/*            |                                                                              | 200           | IDLE                  | $.[?(@.configurationName=='RedshiftPostProcessor')].status |


    #MLP-17257 - #6930207 to #6930756
  Scenario: SC#1 user get all lineage hops id,s and get the source target value from database
    Given user retrieves all lineage hops values for below parameters
      | database      | retrive              | catalog | type  | lineageFlow  | name                                             | asg_scopeid | targetFile                                                      | jsonpath |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfromsingleexttable                           |             | response/SpectrumPostprocessor/actualJsonFiles/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfrommultipleexternaltable                    |             | response/SpectrumPostprocessor/actualJsonFiles/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfromdiffschemamultipleexternaltable          |             | response/SpectrumPostprocessor/actualJsonFiles/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfromviewfromexttable                         |             | response/SpectrumPostprocessor/actualJsonFiles/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfrommultipleviewfromexttable                 |             | response/SpectrumPostprocessor/actualJsonFiles/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfromtableandviewofexternaltable              |             | response/SpectrumPostprocessor/actualJsonFiles/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfromsingleexttablewithcondt                  |             | response/SpectrumPostprocessor/actualJsonFiles/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfrommultipleexternaltablewithcondt           |             | response/SpectrumPostprocessor/actualJsonFiles/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfromdiffschemamultipleexternaltablewithcondt |             | response/SpectrumPostprocessor/actualJsonFiles/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfrommultipleexternaltableusingjoin           |             | response/SpectrumPostprocessor/actualJsonFiles/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfromexternaltableusingunionall               |             | response/SpectrumPostprocessor/actualJsonFiles/bulkLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | viewfromcomplexstatementexternaltable            |             | response/SpectrumPostprocessor/actualJsonFiles/bulkLineage.json |          |
    And user hits the following API with given parameters and store the api response in file
      | ServiceName | ServiceUser    | Header           | Query | Param | type | url                                                                                     | bodyFile                                                        | path                                                               | response code | response message | jsonPath | targetFile                                                            |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\SpectrumPostprocessor\actualJsonFiles\bulkLineage.json | $.lineagePayLoads.viewfromsingleexttable                           | 200           |                  | edges    | response\SpectrumPostprocessor\actualJsonFiles\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\SpectrumPostprocessor\actualJsonFiles\bulkLineage.json | $.lineagePayLoads.viewfrommultipleexternaltable                    | 200           |                  | edges    | response\SpectrumPostprocessor\actualJsonFiles\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\SpectrumPostprocessor\actualJsonFiles\bulkLineage.json | $.lineagePayLoads.viewfromdiffschemamultipleexternaltable          | 200           |                  | edges    | response\SpectrumPostprocessor\actualJsonFiles\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\SpectrumPostprocessor\actualJsonFiles\bulkLineage.json | $.lineagePayLoads.viewfromviewfromexttable                         | 200           |                  | edges    | response\SpectrumPostprocessor\actualJsonFiles\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\SpectrumPostprocessor\actualJsonFiles\bulkLineage.json | $.lineagePayLoads.viewfrommultipleviewfromexttable                 | 200           |                  | edges    | response\SpectrumPostprocessor\actualJsonFiles\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\SpectrumPostprocessor\actualJsonFiles\bulkLineage.json | $.lineagePayLoads.viewfromtableandviewofexternaltable              | 200           |                  | edges    | response\SpectrumPostprocessor\actualJsonFiles\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\SpectrumPostprocessor\actualJsonFiles\bulkLineage.json | $.lineagePayLoads.viewfromsingleexttablewithcondt                  | 200           |                  | edges    | response\SpectrumPostprocessor\actualJsonFiles\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\SpectrumPostprocessor\actualJsonFiles\bulkLineage.json | $.lineagePayLoads.viewfrommultipleexternaltablewithcondt           | 200           |                  | edges    | response\SpectrumPostprocessor\actualJsonFiles\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\SpectrumPostprocessor\actualJsonFiles\bulkLineage.json | $.lineagePayLoads.viewfromdiffschemamultipleexternaltablewithcondt | 200           |                  | edges    | response\SpectrumPostprocessor\actualJsonFiles\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\SpectrumPostprocessor\actualJsonFiles\bulkLineage.json | $.lineagePayLoads.viewfrommultipleexternaltableusingjoin           | 200           |                  | edges    | response\SpectrumPostprocessor\actualJsonFiles\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\SpectrumPostprocessor\actualJsonFiles\bulkLineage.json | $.lineagePayLoads.viewfromexternaltableusingunionall               | 200           |                  | edges    | response\SpectrumPostprocessor\actualJsonFiles\actualLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\SpectrumPostprocessor\actualJsonFiles\bulkLineage.json | $.lineagePayLoads.viewfromcomplexstatementexternaltable            | 200           |                  | edges    | response\SpectrumPostprocessor\actualJsonFiles\actualLineagehops.json |
    And user retrieves the name of each id stored in files with below parameters
      | fileName                                                                                | JsonPath                                         |
      | Constant.REST_DIR/response/SpectrumPostprocessor/actualJsonFiles/actualLineagehops.json | viewfromsingleexttable                           |
      | Constant.REST_DIR/response/SpectrumPostprocessor/actualJsonFiles/actualLineagehops.json | viewfrommultipleexternaltable                    |
      | Constant.REST_DIR/response/SpectrumPostprocessor/actualJsonFiles/actualLineagehops.json | viewfromdiffschemamultipleexternaltable          |
      | Constant.REST_DIR/response/SpectrumPostprocessor/actualJsonFiles/actualLineagehops.json | viewfromviewfromexttable                         |
      | Constant.REST_DIR/response/SpectrumPostprocessor/actualJsonFiles/actualLineagehops.json | viewfrommultipleviewfromexttable                 |
      | Constant.REST_DIR/response/SpectrumPostprocessor/actualJsonFiles/actualLineagehops.json | viewfromtableandviewofexternaltable              |
      | Constant.REST_DIR/response/SpectrumPostprocessor/actualJsonFiles/actualLineagehops.json | viewfromsingleexttablewithcondt                  |
      | Constant.REST_DIR/response/SpectrumPostprocessor/actualJsonFiles/actualLineagehops.json | viewfrommultipleexternaltablewithcondt           |
      | Constant.REST_DIR/response/SpectrumPostprocessor/actualJsonFiles/actualLineagehops.json | viewfromdiffschemamultipleexternaltablewithcondt |
      | Constant.REST_DIR/response/SpectrumPostprocessor/actualJsonFiles/actualLineagehops.json | viewfrommultipleexternaltableusingjoin           |
      | Constant.REST_DIR/response/SpectrumPostprocessor/actualJsonFiles/actualLineagehops.json | viewfromexternaltableusingunionall               |
      | Constant.REST_DIR/response/SpectrumPostprocessor/actualJsonFiles/actualLineagehops.json | viewfromcomplexstatementexternaltable            |


  Scenario Outline: SC#1 user compares the expected lineage data and actual lineage data
    Given user json assert between "<expectedJson>" data and "<actualJson>" data
    Examples:
      | expectedJson                                                                                | actualJson                                                                              |
      | Constant.REST_DIR/response/SpectrumPostprocessor/expectedJsonFiles/expectedLineagehops.json | Constant.REST_DIR/response/SpectrumPostprocessor/actualJsonFiles/actualLineagehops.json |


  @sanity @positive
  Scenario:SC1:Delete id's
    And Delete multiple values in IDC UI with below parameters
      | deleteAction     | catalog | name                                                             | type      | query | param |
      | MultipleIDDelete | Default | cataloger/AmazonSpectrumCataloger/%                              | Analysis  |       |       |
      | MultipleIDDelete | Default | cataloger/AmazonS3Cataloger/%                                    | Analysis  |       |       |
      | MultipleIDDelete | Default | cataloger/AmazonRedshiftCataloger/%                              | Analysis  |       |       |
      | MultipleIDDelete | Default | lineage/AmazonRedshiftPostProcessor/%                            | Analysis  |       |       |
      | MultipleIDDelete | Default | linker/AmazonSpectrumLinker/%                                    | Analysis  |       |       |
      | MultipleIDDelete | Default | redshift-cluster-1.csvp5wcqqxvw.us-east-1.redshift.amazonaws.com | Cluster   |       |       |
      | MultipleIDDelete | Default | amazonaws.com                                                    | Cluster   |       |       |
      | MultipleIDDelete | Default | asgredshiftworlddata                                             | Directory |       |       |
      | MultipleIDDelete | Default | RedshiftPostProcessor_filter                                     | Tag       |       |       |


#######################################CSV Header true###################################################Scenario 02 -Verify the Spectrum Linker Lineage with the External Files Csv, Json, Text, Avro and Parquet when running the S3 File Cataloger#################################################################################################################################################

  Scenario Outline: SC#2 Run the spectrumCataloger, CSV S3 and the spectrumLinker
    Given endpoint for "<ServiceName>" for "<ServiceUser>" having "<Header>" and query param with "<Query>" "<Param>" for request type "<type>" with url "<url>" and body "<body>" and verify "<response code>" and "<response message>" using "<jsonPath>"
    Examples:
      | ServiceName | ServiceUser    | Header           | Query | Param | type         | url                                                                                       | body                                                                       | response code | response message      | jsonPath                                                  |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumDataSource                                               | ida/AmazonSpectrumLineagePayloads/AmazonSpectrumDataSource.json            | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumDataSource                                               |                                                                            | 200           | SpectrumDataSource    |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonCSVS3DataSource                                                  | ida/AmazonSpectrumLineagePayloads/AmazonCSVS3DataSourceConfig.json         | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonCSVS3DataSource                                                  |                                                                            | 200           | AmazonCSVS3DataSource |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumCataloger                                                | ida/AmazonSpectrumLineagePayloads/SpectrumCataloger.json                   | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumCataloger                                                |                                                                            | 200           | SpectrumCataloger     |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger  | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/CsvS3Cataloger                                                         | ida/AmazonSpectrumLineagePayloads/CsvS3Cataloger.json                      | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/CsvS3Cataloger                                                         |                                                                            | 200           | CSVS3Cataloger        |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/CsvS3Cataloger/*                          |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='CSVS3Cataloger')].status       |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/CsvS3Cataloger/*                           | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/CsvS3Cataloger/*                          |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='CSVS3Cataloger')].status       |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumLinker                                                   | ida/AmazonSpectrumLineagePayloads/AmazonSpectrumLinker_CSV_withheader.json | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumLinker                                                   |                                                                            | 200           | AmazonSpectrumLinker  |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/*                       |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/linker/AmazonSpectrumLinker/*                        | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/*                       |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |


  Scenario:SC#02 user get all lineage hops id,s and get the source target value from database
    Given user retrieves all lineage hops values for below parameters
      | database      | retrive              | catalog | type  | lineageFlow  | name                           | asg_scopeid | targetFile                                                                      | jsonpath |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multiplecsvwithheaderindiffdir |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderTrueLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | csvbasicdatatypeswithheader    |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderTrueLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | csvdiffdatatypeswithheader     |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderTrueLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multiplecsvwithheader          |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderTrueLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | csvdatatypes                   |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderTrueLineage.json |          |
    And user hits the following API with given parameters and store the api response in file
      | ServiceName | ServiceUser    | Header           | Query | Param | type | url                                                                                     | bodyFile                                                                        | path                                             | response code | response message | jsonPath | targetFile                                                                                |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderTrueLineage.json | $.lineagePayLoads.multiplecsvwithheaderindiffdir | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderTrueLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderTrueLineage.json | $.lineagePayLoads.csvbasicdatatypeswithheader    | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderTrueLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderTrueLineage.json | $.lineagePayLoads.csvdiffdatatypeswithheader     | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderTrueLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderTrueLineage.json | $.lineagePayLoads.multiplecsvwithheader          | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderTrueLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderTrueLineage.json | $.lineagePayLoads.csvdatatypes                   | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderTrueLineagehops.json |
    And user retrieves the name of each id stored in files with below parameters
      | fileName                                                                                                    | JsonPath                       |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderTrueLineagehops.json | multiplecsvwithheaderindiffdir |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderTrueLineagehops.json | csvbasicdatatypeswithheader    |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderTrueLineagehops.json | csvdiffdatatypeswithheader     |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderTrueLineagehops.json | multiplecsvwithheader          |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderTrueLineagehops.json | csvdatatypes                   |


    ##7023193## ##7022803## ##7022800## ##7021669## ##7021665##
  Scenario Outline:SC#2 user compares the expected lineage data and actual lineage data
    Given user json assert between "<expectedJson>" data and "<actualJson>" data
    Examples:
      | expectedJson                                                                                            | actualJson                                                                                                  |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/expectedJsonFiles/CSVHeaderTrueLineagehops.json | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderTrueLineagehops.json |


  @sanity @positive
  Scenario:SC2:Delete id's
    And Delete multiple values in IDC UI with below parameters
      | deleteAction     | catalog | name                                                             | type     | query | param |
      | MultipleIDDelete | Default | cataloger/AmazonSpectrumCataloger/%                              | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/CsvS3Cataloger/%                                       | Analysis |       |       |
      | MultipleIDDelete | Default | linker/AmazonSpectrumLinker/%                                    | Analysis |       |       |
      | MultipleIDDelete | Default | amazonaws.com                                                    | Cluster  |       |       |
      | MultipleIDDelete | Default | redshift-cluster-1.csvp5wcqqxvw.us-east-1.redshift.amazonaws.com | Cluster  |       |       |


    #######################################CSV Header true with S3###################################################Scenario 02 -Verify the Spectrum Linker Lineage with the External Files Csv, Json, Text, Avro and Parquet when running the S3 File Cataloger#################################################################################################################################################

  Scenario Outline: SC#3 Run the spectrumCataloger, S3, CSV S3 and the spectrumLinker
    Given endpoint for "<ServiceName>" for "<ServiceUser>" having "<Header>" and query param with "<Query>" "<Param>" for request type "<type>" with url "<url>" and body "<body>" and verify "<response code>" and "<response message>" using "<jsonPath>"
    Examples:
      | ServiceName | ServiceUser    | Header           | Query | Param | type         | url                                                                                       | body                                                                       | response code | response message      | jsonPath                                                  |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumDataSource                                               | ida/AmazonSpectrumLineagePayloads/AmazonSpectrumDataSource.json            | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumDataSource                                               |                                                                            | 200           | SpectrumDataSource    |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonS3DataSource                                                     | ida/AmazonSpectrumLineagePayloads/AmazonS3DataSourceConfig.json            | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonS3DataSource                                                     |                                                                            | 200           | AmazonS3DataSource    |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonCSVS3DataSource                                                  | ida/AmazonSpectrumLineagePayloads/AmazonCSVS3DataSourceConfig.json         | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonCSVS3DataSource                                                  |                                                                            | 200           | AmazonCSVS3DataSource |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumCataloger                                                | ida/AmazonSpectrumLineagePayloads/SpectrumCataloger.json                   | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumCataloger                                                |                                                                            | 200           | SpectrumCataloger     |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger  | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonS3Cataloger                                                      | ida/AmazonSpectrumLineagePayloads/AmazonS3Cataloger_Configuration.json     | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonS3Cataloger                                                      |                                                                            | 200           | AmazonS3Cataloger     |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonS3Cataloger/*                       |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='AmazonS3Cataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AmazonS3Cataloger/*                        | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonS3Cataloger/*                       |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='AmazonS3Cataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/CsvS3Cataloger                                                         | ida/AmazonSpectrumLineagePayloads/CsvS3Cataloger.json                      | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/CsvS3Cataloger                                                         |                                                                            | 200           | CSVS3Cataloger        |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/CsvS3Cataloger/*                          |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='CSVS3Cataloger')].status       |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/CsvS3Cataloger/*                           | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/CsvS3Cataloger/*                          |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='CSVS3Cataloger')].status       |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumLinker                                                   | ida/AmazonSpectrumLineagePayloads/AmazonSpectrumLinker_CSV_withheader.json | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumLinker                                                   |                                                                            | 200           | AmazonSpectrumLinker  |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/*                       |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/linker/AmazonSpectrumLinker/*                        | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/*                       |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |


  Scenario:SC#03 user get all lineage hops id,s and get the source target value from database
    Given user retrieves all lineage hops values for below parameters
      | database      | retrive              | catalog | type  | lineageFlow  | name                           | asg_scopeid | targetFile                                                                      | jsonpath |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multiplecsvwithheaderindiffdir |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderTrueLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | csvbasicdatatypeswithheader    |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderTrueLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | csvdiffdatatypeswithheader     |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderTrueLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multiplecsvwithheader          |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderTrueLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | csvdatatypes                   |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderTrueLineage.json |          |
    And user hits the following API with given parameters and store the api response in file
      | ServiceName | ServiceUser    | Header           | Query | Param | type | url                                                                                     | bodyFile                                                                        | path                                             | response code | response message | jsonPath | targetFile                                                                                |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderTrueLineage.json | $.lineagePayLoads.multiplecsvwithheaderindiffdir | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderTrueLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderTrueLineage.json | $.lineagePayLoads.csvbasicdatatypeswithheader    | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderTrueLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderTrueLineage.json | $.lineagePayLoads.csvdiffdatatypeswithheader     | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderTrueLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderTrueLineage.json | $.lineagePayLoads.multiplecsvwithheader          | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderTrueLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderTrueLineage.json | $.lineagePayLoads.csvdatatypes                   | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderTrueLineagehops.json |
    And user retrieves the name of each id stored in files with below parameters
      | fileName                                                                                                    | JsonPath                       |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderTrueLineagehops.json | multiplecsvwithheaderindiffdir |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderTrueLineagehops.json | csvbasicdatatypeswithheader    |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderTrueLineagehops.json | csvdiffdatatypeswithheader     |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderTrueLineagehops.json | multiplecsvwithheader          |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderTrueLineagehops.json | csvdatatypes                   |


    ##7023193## ##7022803## ##7022800## ##7021669## ##7021665##
  Scenario Outline:SC#3 user compares the expected lineage data and actual lineage data
    Given user json assert between "<expectedJson>" data and "<actualJson>" data
    Examples:
      | expectedJson                                                                                            | actualJson                                                                                                  |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/expectedJsonFiles/CSVHeaderTrueLineagehops.json | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderTrueLineagehops.json |


  @sanity @positive
  Scenario:SC3:Delete id's
    And Delete multiple values in IDC UI with below parameters
      | deleteAction     | catalog | name                                                             | type     | query | param |
      | MultipleIDDelete | Default | cataloger/AmazonSpectrumCataloger/%                              | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/AmazonS3Cataloger/%                                    | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/CsvS3Cataloger/%                                       | Analysis |       |       |
      | MultipleIDDelete | Default | linker/AmazonSpectrumLinker/%                                    | Analysis |       |       |
      | MultipleIDDelete | Default | amazonaws.com                                                    | Cluster  |       |       |
      | MultipleIDDelete | Default | redshift-cluster-1.csvp5wcqqxvw.us-east-1.redshift.amazonaws.com | Cluster  |       |       |


    #######################################CSV Header false###################################################Scenario 02 -Verify the Spectrum Linker Lineage with the External Files Csv, Json, Text, Avro and Parquet when running the S3 File Cataloger#################################################################################################################################################

  Scenario Outline: SC#4 Run the spectrumCataloger, CSV S3 and the spectrumLinker
    Given endpoint for "<ServiceName>" for "<ServiceUser>" having "<Header>" and query param with "<Query>" "<Param>" for request type "<type>" with url "<url>" and body "<body>" and verify "<response code>" and "<response message>" using "<jsonPath>"
    Examples:
      | ServiceName | ServiceUser    | Header           | Query | Param | type         | url                                                                                       | body                                                                       | response code | response message      | jsonPath                                                  |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumDataSource                                               | ida/AmazonSpectrumLineagePayloads/AmazonSpectrumDataSource.json            | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumDataSource                                               |                                                                            | 200           | SpectrumDataSource    |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonCSVS3DataSource                                                  | ida/AmazonSpectrumLineagePayloads/AmazonCSVS3DataSourceConfig.json         | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonCSVS3DataSource                                                  |                                                                            | 200           | AmazonCSVS3DataSource |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumCataloger                                                | ida/AmazonSpectrumLineagePayloads/SpectrumCataloger.json                   | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumCataloger                                                |                                                                            | 200           | SpectrumCataloger     |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger  | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/CsvS3Cataloger                                                         | ida/AmazonSpectrumLineagePayloads/CsvS3Cataloger2.json                     | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/CsvS3Cataloger                                                         |                                                                            | 200           | CSVS3Cataloger        |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/CsvS3Cataloger/*                          |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='CSVS3Cataloger')].status       |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/CsvS3Cataloger/*                           | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/CsvS3Cataloger/*                          |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='CSVS3Cataloger')].status       |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumLinker                                                   | ida/AmazonSpectrumLineagePayloads/AmazonSpectrumLinker_CSV_withheader.json | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumLinker                                                   |                                                                            | 200           | AmazonSpectrumLinker  |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/*                       |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/linker/AmazonSpectrumLinker/*                        | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/*                       |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |


  Scenario:SC#04 user get all lineage hops id,s and get the source target value from database
    Given user retrieves all lineage hops values for below parameters
      | database      | retrive              | catalog | type  | lineageFlow  | name                              | asg_scopeid | targetFile                                                                       | jsonpath |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multiplecsvwithoutheader          |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderFalseLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | csvbasicdatatypeswithoutheader    |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderFalseLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | csvdiffdatatypeswithoutheader     |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderFalseLineage.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multiplecsvwithoutheaderindiffdir |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderFalseLineage.json |          |
    And user hits the following API with given parameters and store the api response in file
      | ServiceName | ServiceUser    | Header           | Query | Param | type | url                                                                                     | bodyFile                                                                         | path                                                | response code | response message | jsonPath | targetFile                                                                                 |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderFalseLineage.json | $.lineagePayLoads.multiplecsvwithoutheader          | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderFalseLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderFalseLineage.json | $.lineagePayLoads.csvbasicdatatypeswithoutheader    | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderFalseLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderFalseLineage.json | $.lineagePayLoads.csvdiffdatatypeswithoutheader     | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderFalseLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderFalseLineage.json | $.lineagePayLoads.multiplecsvwithoutheaderindiffdir | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderFalseLineagehops.json |
    And user retrieves the name of each id stored in files with below parameters
      | fileName                                                                                                     | JsonPath                          |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderFalseLineagehops.json | multiplecsvwithoutheader          |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderFalseLineagehops.json | csvbasicdatatypeswithoutheader    |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderFalseLineagehops.json | csvdiffdatatypeswithoutheader     |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderFalseLineagehops.json | multiplecsvwithoutheaderindiffdir |


    ##7023193## ##7022803## ##7022800## ##7021669## ##7021665##
  Scenario Outline:SC#4 user compares the expected lineage data and actual lineage data
    Given user json assert between "<expectedJson>" data and "<actualJson>" data
    Examples:
      | expectedJson                                                                                             | actualJson                                                                                                   |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/expectedJsonFiles/CSVHeaderFalseLineagehops.json | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderFalseLineagehops.json |


  @sanity @positive
  Scenario:SC4:Delete id's
    And Delete multiple values in IDC UI with below parameters
      | deleteAction     | catalog | name                                                             | type     | query | param |
      | MultipleIDDelete | Default | cataloger/AmazonSpectrumCataloger/%                              | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/CsvS3Cataloger/%                                       | Analysis |       |       |
      | MultipleIDDelete | Default | linker/AmazonSpectrumLinker/%                                    | Analysis |       |       |
      | MultipleIDDelete | Default | amazonaws.com                                                    | Cluster  |       |       |
      | MultipleIDDelete | Default | redshift-cluster-1.csvp5wcqqxvw.us-east-1.redshift.amazonaws.com | Cluster  |       |       |



    #######################################CSV Header false with S3###################################################Scenario 02 -Verify the Spectrum Linker Lineage with the External Files Csv, Json, Text, Avro and Parquet when running the S3 File Cataloger#################################################################################################################################################

  Scenario Outline: SC#5 Run the spectrumCataloger, S3, CSV S3 and the spectrumLinker
    Given endpoint for "<ServiceName>" for "<ServiceUser>" having "<Header>" and query param with "<Query>" "<Param>" for request type "<type>" with url "<url>" and body "<body>" and verify "<response code>" and "<response message>" using "<jsonPath>"
    Examples:
      | ServiceName | ServiceUser    | Header           | Query | Param | type         | url                                                                                       | body                                                                       | response code | response message      | jsonPath                                                  |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumDataSource                                               | ida/AmazonSpectrumLineagePayloads/AmazonSpectrumDataSource.json            | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumDataSource                                               |                                                                            | 200           | SpectrumDataSource    |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonS3DataSource                                                     | ida/AmazonSpectrumLineagePayloads/AmazonS3DataSourceConfig.json            | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonS3DataSource                                                     |                                                                            | 200           | AmazonS3DataSource    |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonCSVS3DataSource                                                  | ida/AmazonSpectrumLineagePayloads/AmazonCSVS3DataSourceConfig.json         | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonCSVS3DataSource                                                  |                                                                            | 200           | AmazonCSVS3DataSource |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumCataloger                                                | ida/AmazonSpectrumLineagePayloads/SpectrumCataloger.json                   | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumCataloger                                                |                                                                            | 200           | SpectrumCataloger     |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger  | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonS3Cataloger                                                      | ida/AmazonSpectrumLineagePayloads/AmazonS3Cataloger_Configuration.json     | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonS3Cataloger                                                      |                                                                            | 200           | AmazonS3Cataloger     |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonS3Cataloger/*                       |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='AmazonS3Cataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AmazonS3Cataloger/*                        | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonS3Cataloger/*                       |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='AmazonS3Cataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/CsvS3Cataloger                                                         | ida/AmazonSpectrumLineagePayloads/CsvS3Cataloger2.json                     | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/CsvS3Cataloger                                                         |                                                                            | 200           | CSVS3Cataloger        |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/CsvS3Cataloger/*                          |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='CSVS3Cataloger')].status       |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/CsvS3Cataloger/*                           | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/CsvS3Cataloger/*                          |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='CSVS3Cataloger')].status       |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumLinker                                                   | ida/AmazonSpectrumLineagePayloads/AmazonSpectrumLinker_CSV_withheader.json | 204           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumLinker                                                   |                                                                            | 200           | AmazonSpectrumLinker  |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/*                       |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/linker/AmazonSpectrumLinker/*                        | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/*                       |                                                                            | 200           | IDLE                  | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |


  Scenario:SC#05 user get all lineage hops id,s and get the source target value from database
    Given user retrieves all lineage hops values for below parameters
      | database      | retrive              | catalog | type  | lineageFlow  | name                              | asg_scopeid | targetFile                                                                        | jsonpath |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multiplecsvwithoutheader          |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderFalseLineage1.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | csvbasicdatatypeswithoutheader    |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderFalseLineage1.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | csvdiffdatatypeswithoutheader     |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderFalseLineage1.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multiplecsvwithoutheaderindiffdir |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderFalseLineage1.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | txtbasicdatatypeswithoutheader    |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderFalseLineage1.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | txtdatatypes                      |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/csvHeaderFalseLineage1.json |          |
    And user hits the following API with given parameters and store the api response in file
      | ServiceName | ServiceUser    | Header           | Query | Param | type | url                                                                                     | bodyFile                                                                          | path                                                | response code | response message | jsonPath | targetFile                                                                                  |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderFalseLineage1.json | $.lineagePayLoads.multiplecsvwithoutheader          | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderFalseLineagehops1.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderFalseLineage1.json | $.lineagePayLoads.csvbasicdatatypeswithoutheader    | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderFalseLineagehops1.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderFalseLineage1.json | $.lineagePayLoads.csvdiffdatatypeswithoutheader     | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderFalseLineagehops1.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderFalseLineage1.json | $.lineagePayLoads.multiplecsvwithoutheaderindiffdir | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderFalseLineagehops1.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderFalseLineage1.json | $.lineagePayLoads.txtbasicdatatypeswithoutheader    | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderFalseLineagehops1.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\csvHeaderFalseLineage1.json | $.lineagePayLoads.txtdatatypes                      | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualCSVHeaderFalseLineagehops1.json |
    And user retrieves the name of each id stored in files with below parameters
      | fileName                                                                                                      | JsonPath                          |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderFalseLineagehops1.json | multiplecsvwithoutheader          |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderFalseLineagehops1.json | csvbasicdatatypeswithoutheader    |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderFalseLineagehops1.json | csvdiffdatatypeswithoutheader     |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderFalseLineagehops1.json | multiplecsvwithoutheaderindiffdir |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderFalseLineagehops1.json | txtbasicdatatypeswithoutheader    |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderFalseLineagehops1.json | txtdatatypes                      |


    ##7023193## ##7022803## ##7022800## ##7021669## ##7021665##
  Scenario Outline:SC#5 user compares the expected lineage data and actual lineage data
    Given user json assert between "<expectedJson>" data and "<actualJson>" data
    Examples:
      | expectedJson                                                                                              | actualJson                                                                                                    |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/expectedJsonFiles/CSVHeaderFalseLineagehops1.json | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualCSVHeaderFalseLineagehops1.json |


  @sanity @positive
  Scenario:SC5:Delete id's
    And Delete multiple values in IDC UI with below parameters
      | deleteAction     | catalog | name                                                             | type     | query | param |
      | MultipleIDDelete | Default | cataloger/AmazonSpectrumCataloger/%                              | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/AmazonS3Cataloger/%                                    | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/CsvS3Cataloger/%                                       | Analysis |       |       |
      | MultipleIDDelete | Default | linker/AmazonSpectrumLinker/%                                    | Analysis |       |       |
      | MultipleIDDelete | Default | amazonaws.com                                                    | Cluster  |       |       |
      | MultipleIDDelete | Default | redshift-cluster-1.csvp5wcqqxvw.us-east-1.redshift.amazonaws.com | Cluster  |       |       |


    ##########################################################################################Scenario 06 -Verify the Spectrum Linker Lineage with the External Files Json, Avro and Parquet when running the File Cataloger Json, Avro, Parquet#################################################################################################################################################


  Scenario Outline: SC#06 Run the spectrumCataloger, File Cataloger (Json, Avro, Parquet) and the spectrumLinker
    Given endpoint for "<ServiceName>" for "<ServiceUser>" having "<Header>" and query param with "<Query>" "<Param>" for request type "<type>" with url "<url>" and body "<body>" and verify "<response code>" and "<response message>" using "<jsonPath>"
    Examples:
      | ServiceName | ServiceUser    | Header           | Query | Param | type         | url                                                                                       | body                                                                        | response code | response message               | jsonPath                                                  |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumDataSource                                               | ida/AmazonSpectrumLineagePayloads/AmazonSpectrumDataSource.json             | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumDataSource                                               |                                                                             | 200           | SpectrumDataSource             |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumCataloger                                                | ida/AmazonSpectrumLineagePayloads/SpectrumCataloger.json                    | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumCataloger                                                |                                                                             | 200           | SpectrumCataloger              |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger  | ida/AmazonSpectrumLineagePayloads/empty.json                                | 200           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/JsonS3DataSource                                                       | ida/AmazonSpectrumLineagePayloads/AmazonJSONS3ValidDataSourceConfig.json    | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/JsonS3DataSource                                                       |                                                                             | 200           | AmazonJSONS3ValidDataSource    |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/JsonS3Cataloger                                                        | ida/AmazonSpectrumLineagePayloads/JsonS3Cataloger.json                      | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/JsonS3Cataloger                                                        |                                                                             | 200           | JsonS3Cataloger                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/JsonS3Cataloger/*                         |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='JsonS3Cataloger')].status      |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/JsonS3Cataloger/*                          | ida/AmazonSpectrumLineagePayloads/empty.json                                | 200           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/JsonS3Cataloger/*                         |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='JsonS3Cataloger')].status      |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AvroS3DataSource                                                       | ida/AmazonSpectrumLineagePayloads/AvroS3ValidDataSourceConfig.json          | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AvroS3DataSource                                                       |                                                                             | 200           |                                | AvroS3ValidDataSource                                     |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AvroS3Cataloger                                                        | ida/AmazonSpectrumLineagePayloads/AvroS3Cataloger.json                      | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AvroS3Cataloger                                                        |                                                                             | 200           | AvroS3Catalog                  |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AvroS3Cataloger/*                         |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='AvroS3Catalog')].status        |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AvroS3Cataloger/*                          | ida/AmazonSpectrumLineagePayloads/empty.json                                | 200           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AvroS3Cataloger/*                         |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='AvroS3Catalog')].status        |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/ParquetS3DataSource                                                    | ida/AmazonSpectrumLineagePayloads/AmazonParquetS3ValidDataSourceConfig.json | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/ParquetS3DataSource                                                    |                                                                             | 200           | AmazonParquetS3ValidDataSource |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/ParquetS3Cataloger                                                     | ida/AmazonSpectrumLineagePayloads/ParquetS3Cataloger.json                   | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/ParquetS3Cataloger                                                     |                                                                             | 200           | ParquetS3Cataloger             |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/ParquetS3Cataloger/*                      |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='ParquetS3Cataloger')].status   |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/ParquetS3Cataloger/*                       | ida/AmazonSpectrumLineagePayloads/empty.json                                | 200           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/ParquetS3Cataloger/*                      |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='ParquetS3Cataloger')].status   |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumLinker                                                   | ida/AmazonSpectrumLineagePayloads/AmazonSpectrumLinker_CSV_withheader.json  | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumLinker                                                   |                                                                             | 200           | AmazonSpectrumLinker           |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/*                       |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/linker/AmazonSpectrumLinker/*                        | ida/AmazonSpectrumLineagePayloads/empty.json                                | 200           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/*                       |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |


  Scenario:SC#06 user get all lineage hops id,s and get the source target value from database
    Given user retrieves all lineage hops values for below parameters
      | database      | retrive              | catalog | type  | lineageFlow  | name                               | asg_scopeid | targetFile                                                                | jsonpath |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | jsonbasicdatatypes                 |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | jsonobjecttype                     |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | jsondatatypes                      |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multiplejsonfilesinsinglefolder    |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multiplejsonfilesindifffolder      |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | userdiffdatatypes                  |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | additionaldiffdatatypes            |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multipleavrofilesinsinglefolder    |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multipleavrofilesindifffolder      |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | testbasicparquet                   |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | userdiffdatatypesparquet           |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multipleparquetfilesinsinglefolder |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multipleparquetfilesindifffolder   |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | additionaldiffdatatypesparquet     |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | testarrayparquet                   |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
    And user hits the following API with given parameters and store the api response in file
      | ServiceName | ServiceUser    | Header           | Query | Param | type | url                                                                                     | bodyFile                                                                  | path                                                 | response code | response message | jsonPath | targetFile                                                                                 |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.jsonbasicdatatypes                 | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.jsonobjecttype                     | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.jsondatatypes                      | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.multiplejsonfilesinsinglefolder    | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.multiplejsonfilesindifffolder      | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.userdiffdatatypes                  | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.additionaldiffdatatypes            | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.multipleavrofilesinsinglefolder    | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.multipleavrofilesindifffolder      | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.testbasicparquet                   | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.userdiffdatatypesparquet           | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.multipleparquetfilesinsinglefolder | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.multipleparquetfilesindifffolder   | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.additionaldiffdatatypesparquet     | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.testarrayparquet                   | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
    And user retrieves the name of each id stored in files with below parameters
      | fileName                                                                                                     | JsonPath                           |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | jsonbasicdatatypes                 |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | jsonobjecttype                     |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | jsondatatypes                      |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | multiplejsonfilesinsinglefolder    |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | multiplejsonfilesindifffolder      |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | userdiffdatatypes                  |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | additionaldiffdatatypes            |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | multipleavrofilesinsinglefolder    |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | multipleavrofilesindifffolder      |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | testbasicparquet                   |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | userdiffdatatypesparquet           |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | multipleparquetfilesinsinglefolder |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | multipleparquetfilesindifffolder   |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | additionaldiffdatatypesparquet     |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | testarrayparquet                   |


    ##7023243## ##7023191## ##7022804## ##7022801## ##7021670## ##7021667##
  Scenario Outline:SC#06 user compares the expected lineage data and actual lineage data
    Given user json assert between "<expectedJson>" data and "<actualJson>" data
    Examples:
      | expectedJson                                                                                              | actualJson                                                                                                   |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/expectedJsonFiles/fileCatalogers_Lineagehops.json | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json |


  @sanity @positive
  Scenario:SC6:Delete id's
    And Delete multiple values in IDC UI with below parameters
      | deleteAction     | catalog | name                                                             | type     | query | param |
      | MultipleIDDelete | Default | cataloger/AmazonSpectrumCataloger/%                              | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/JsonS3Cataloger/%                                      | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/AvroS3Cataloger/%                                      | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/ParquetS3Cataloger/%                                   | Analysis |       |       |
      | MultipleIDDelete | Default | linker/AmazonSpectrumLinker/%                                    | Analysis |       |       |
      | MultipleIDDelete | Default | amazonaws.com                                                    | Cluster  |       |       |
      | MultipleIDDelete | Default | redshift-cluster-1.csvp5wcqqxvw.us-east-1.redshift.amazonaws.com | Cluster  |       |       |



    ##########################################################################################Scenario 04 -Verify the Spectrum Linker Lineage with the External Files Csv, Json, Avro and Parquet when running S3 Cataloger on top of the File Cataloger Csv, Json, Avro, Parquet#################################################################################################################################################


  Scenario Outline: SC#07 Run the spectrumCataloger,s3Cataloger, File Cataloger (Json, Avro,Parquet) and the spectrumLinker
    Given endpoint for "<ServiceName>" for "<ServiceUser>" having "<Header>" and query param with "<Query>" "<Param>" for request type "<type>" with url "<url>" and body "<body>" and verify "<response code>" and "<response message>" using "<jsonPath>"
    Examples:
      | ServiceName | ServiceUser    | Header           | Query | Param | type         | url                                                                                       | body                                                                        | response code | response message               | jsonPath                                                  |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumDataSource                                               | ida/AmazonSpectrumLineagePayloads/AmazonSpectrumDataSource.json             | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumDataSource                                               |                                                                             | 200           | SpectrumDataSource             |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonS3DataSource                                                     | ida/AmazonSpectrumLineagePayloads/AmazonS3DataSourceConfig.json             | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonS3DataSource                                                     |                                                                             | 200           | AmazonS3DataSource             |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumCataloger                                                | ida/AmazonSpectrumLineagePayloads/SpectrumCataloger.json                    | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumCataloger                                                |                                                                             | 200           | SpectrumCataloger              |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger  | ida/AmazonSpectrumLineagePayloads/empty.json                                | 200           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonS3Cataloger                                                      | ida/AmazonSpectrumLineagePayloads/AmazonS3Cataloger_Configuration.json      | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonS3Cataloger                                                      |                                                                             | 200           | AmazonS3Cataloger              |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonS3Cataloger/*                       |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='AmazonS3Cataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AmazonS3Cataloger/*                        | ida/AmazonSpectrumLineagePayloads/empty.json                                | 200           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonS3Cataloger/*                       |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='AmazonS3Cataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/JsonS3DataSource                                                       | ida/AmazonSpectrumLineagePayloads/AmazonJSONS3ValidDataSourceConfig.json    | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/JsonS3DataSource                                                       |                                                                             | 200           | AmazonJSONS3ValidDataSource    |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/JsonS3Cataloger                                                        | ida/AmazonSpectrumLineagePayloads/JsonS3Cataloger.json                      | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/JsonS3Cataloger                                                        |                                                                             | 200           | JsonS3Cataloger                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/JsonS3Cataloger/*                         |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='JsonS3Cataloger')].status      |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/JsonS3Cataloger/*                          | ida/AmazonSpectrumLineagePayloads/empty.json                                | 200           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/JsonS3Cataloger/*                         |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='JsonS3Cataloger')].status      |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AvroS3DataSource                                                       | ida/AmazonSpectrumLineagePayloads/AvroS3ValidDataSourceConfig.json          | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AvroS3DataSource                                                       |                                                                             | 200           |                                | AvroS3ValidDataSource                                     |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AvroS3Cataloger                                                        | ida/AmazonSpectrumLineagePayloads/AvroS3Cataloger.json                      | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AvroS3Cataloger                                                        |                                                                             | 200           | AvroS3Catalog                  |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AvroS3Cataloger/*                         |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='AvroS3Catalog')].status        |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AvroS3Cataloger/*                          | ida/AmazonSpectrumLineagePayloads/empty.json                                | 200           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AvroS3Cataloger/*                         |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='AvroS3Catalog')].status        |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/ParquetS3DataSource                                                    | ida/AmazonSpectrumLineagePayloads/AmazonParquetS3ValidDataSourceConfig.json | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/ParquetS3DataSource                                                    |                                                                             | 200           | AmazonParquetS3ValidDataSource |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/ParquetS3Cataloger                                                     | ida/AmazonSpectrumLineagePayloads/ParquetS3Cataloger.json                   | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/ParquetS3Cataloger                                                     |                                                                             | 200           | ParquetS3Cataloger             |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/ParquetS3Cataloger/*                      |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='ParquetS3Cataloger')].status   |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/ParquetS3Cataloger/*                       | ida/AmazonSpectrumLineagePayloads/empty.json                                | 200           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/ParquetS3Cataloger/*                      |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='ParquetS3Cataloger')].status   |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumLinker                                                   | ida/AmazonSpectrumLineagePayloads/AmazonSpectrumLinker_CSV_withheader.json  | 204           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumLinker                                                   |                                                                             | 200           | AmazonSpectrumLinker           |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/*                       |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/linker/AmazonSpectrumLinker/*                        | ida/AmazonSpectrumLineagePayloads/empty.json                                | 200           |                                |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/*                       |                                                                             | 200           | IDLE                           | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |


  Scenario:SC#07 user get all lineage hops id,s and get the source target value from database
    Given user retrieves all lineage hops values for below parameters
      | database      | retrive              | catalog | type  | lineageFlow  | name                               | asg_scopeid | targetFile                                                                | jsonpath |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | jsonbasicdatatypes                 |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | jsonobjecttype                     |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | jsondatatypes                      |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multiplejsonfilesinsinglefolder    |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multiplejsonfilesindifffolder      |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | userdiffdatatypes                  |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | additionaldiffdatatypes            |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multipleavrofilesinsinglefolder    |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multipleavrofilesindifffolder      |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | testbasicparquet                   |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | userdiffdatatypesparquet           |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multipleparquetfilesinsinglefolder |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | multipleparquetfilesindifffolder   |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | additionaldiffdatatypesparquet     |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | testarrayparquet                   |             | response/AmazonSpectrumLinker_Lineage/actualJsonFiles/fileCatalogers.json |          |
    And user hits the following API with given parameters and store the api response in file
      | ServiceName | ServiceUser    | Header           | Query | Param | type | url                                                                                     | bodyFile                                                                  | path                                                 | response code | response message | jsonPath | targetFile                                                                                 |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.jsonbasicdatatypes                 | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.jsonobjecttype                     | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.jsondatatypes                      | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.multiplejsonfilesinsinglefolder    | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.multiplejsonfilesindifffolder      | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.userdiffdatatypes                  | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.additionaldiffdatatypes            | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.multipleavrofilesinsinglefolder    | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.multipleavrofilesindifffolder      | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.testbasicparquet                   | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.userdiffdatatypesparquet           | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.multipleparquetfilesinsinglefolder | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.multipleparquetfilesindifffolder   | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.additionaldiffdatatypesparquet     | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\fileCatalogers.json | $.lineagePayLoads.testarrayparquet                   | 200           |                  | edges    | response\AmazonSpectrumLinker_Lineage\actualJsonFiles\actualFileCatalogersLineagehops.json |
    And user retrieves the name of each id stored in files with below parameters
      | fileName                                                                                                     | JsonPath                           |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | jsonbasicdatatypes                 |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | jsonobjecttype                     |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | jsondatatypes                      |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | multiplejsonfilesinsinglefolder    |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | multiplejsonfilesindifffolder      |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | userdiffdatatypes                  |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | additionaldiffdatatypes            |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | multipleavrofilesinsinglefolder    |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | multipleavrofilesindifffolder      |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | testbasicparquet                   |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | userdiffdatatypesparquet           |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | multipleparquetfilesinsinglefolder |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | multipleparquetfilesindifffolder   |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | additionaldiffdatatypesparquet     |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json | testarrayparquet                   |

    ##7023192## ##7022805## ##7022802## ##7021671## ##7021668##
  Scenario Outline:SC#07 user compares the expected lineage data and actual lineage data
    Given user json assert between "<expectedJson>" data and "<actualJson>" data
    Examples:
      | expectedJson                                                                                              | actualJson                                                                                                   |
      | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/expectedJsonFiles/fileCatalogers_Lineagehops.json | Constant.REST_DIR/response/AmazonSpectrumLinker_Lineage/actualJsonFiles/actualFileCatalogersLineagehops.json |

    #7081539
  @webtest
  Scenario:SC#07 Verify metadata attributes sections for spectrum tables
    Given User launch browser and traverse to login page
    And user enter credentials for "System Administrator1" role
    And user enters the search text "multiplejsonfilesinsinglefolder" and clicks on search
    And user performs "item click" on "multiplejsonfilesinsinglefolder" item from search results
    Then user "verify metadata attributes" section has following values
      | metaDataAttribute  | widgetName |
      | Last catalogued at | Lifecycle  |
    Then the following metadata values should be displayed
      | metaDataAttribute | metaDataValue                                         | widgetName  |
      | Table Type        | EXTERNAL                                              | Description |
      | Location          | s3://asgredshiftworlddata/QA/JsonFilesInSingleFolder/ | Description |


  @sanity @positive
  Scenario:SC7:Delete id's
    And Delete multiple values in IDC UI with below parameters
      | deleteAction     | catalog | name                                                             | type     | query | param |
      | MultipleIDDelete | Default | cataloger/AmazonSpectrumCataloger/%                              | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/AmazonS3Cataloger/%                                    | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/JsonS3Cataloger/%                                      | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/AvroS3Cataloger/%                                      | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/ParquetS3Cataloger/%                                   | Analysis |       |       |
      | MultipleIDDelete | Default | linker/AmazonSpectrumLinker/%                                    | Analysis |       |       |
      | MultipleIDDelete | Default | amazonaws.com                                                    | Cluster  |       |       |
      | MultipleIDDelete | Default | redshift-cluster-1.csvp5wcqqxvw.us-east-1.redshift.amazonaws.com | Cluster  |       |       |

    ############################################################ORC File support##########################################################################################

  Scenario:Pre-Condition:Delete cataloger and Analyzer analysis and tables
    And Delete multiple values in IDC UI with below parameters
      | deleteAction     | catalog | name                                                             | type     | query | param |
      | MultipleIDDelete | Default | cataloger/AmazonSpectrumCataloger/%                              | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/OrcS3Cataloger/%                                       | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/AmazonS3Cataloger/%                                    | Analysis |       |       |
      | MultipleIDDelete | Default | linker/AmazonSpectrumLinker/%                                    | Analysis |       |       |
      | SingleItemDelete | Default | redshift-cluster-1.csvp5wcqqxvw.us-east-1.redshift.amazonaws.com | Cluster  |       |       |
      | SingleItemDelete | Default | dechehdpqa01v.asg.com                                            | Cluster  |       |       |
      | SingleItemDelete | Default | amazonaws.com                                                    | Cluster  |       |       |

############################################################Pre condition - Set the Credential for Redshift, Spectrum, S3, Csv, Avro, Parquet, Json###########################################################################################################################


  Scenario Outline: Pre-Condition:_Run the spectrumCataloger, File Cataloger (orc) and the spectrumLinker
    Given endpoint for "<ServiceName>" for "<ServiceUser>" having "<Header>" and query param with "<Query>" "<Param>" for request type "<type>" with url "<url>" and body "<body>" and verify "<response code>" and "<response message>" using "<jsonPath>"
    Examples:
      | ServiceName | ServiceUser    | Header           | Query | Param | type         | url                                                                                       | body                                                                          | response code | response message     | jsonPath                                                  |
      | IDC         | TestSystemUser | application/json |       |       | Put          | settings/license                                                                          | ida\hbasePayloads\DataSource\license_DS.json                                  | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumDataSource                                               | ida/AmazonSpectrumLineagePayloads/AmazonSpectrumDataSource.json               | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumDataSource                                               |                                                                               | 200           | SpectrumDataSource   |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumCataloger                                                | ida/AmazonSpectrumLineagePayloads/SpectrumCataloger_ORC.json                  | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumCataloger                                                |                                                                               | 200           | SpectrumCataloger    |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                               | 200           | IDLE                 | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger  | ida/AmazonSpectrumLineagePayloads/empty.json                                  | 200           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                               | 200           | IDLE                 | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/OrcS3DataSource                                                        | ida/AmazonSpectrumLineagePayloads/AmazonOrcS3ValidDataSourceConfig.json       | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/OrcS3DataSource                                                        |                                                                               | 200           | OrcS3DataSource      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/OrcS3Cataloger                                                         | ida/AmazonSpectrumLineagePayloads/sc1OrcS3Cataloger.json                      | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/OrcS3Cataloger                                                         |                                                                               | 200           | OrcS3Cataloger       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/OrcS3Cataloger/OrcS3Cataloger             |                                                                               | 200           | IDLE                 | $.[?(@.configurationName=='OrcS3Cataloger')].status       |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/OrcS3Cataloger/OrcS3Cataloger              | ida/AmazonSpectrumLineagePayloads/empty.json                                  | 200           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/OrcS3Cataloger/OrcS3Cataloger             |                                                                               | 200           | IDLE                 | $.[?(@.configurationName=='OrcS3Cataloger')].status       |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumLinker                                                   | ida/AmazonSpectrumLineagePayloads/AmazonSpectrumLinker_ORC_withoutfilter.json | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumLinker                                                   |                                                                               | 200           | AmazonSpectrumLinker |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/AmazonSpectrumLinker    |                                                                               | 200           | IDLE                 | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/linker/AmazonSpectrumLinker/AmazonSpectrumLinker     | ida/AmazonSpectrumLineagePayloads/empty.json                                  | 200           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/AmazonSpectrumLinker    |                                                                               | 200           | IDLE                 | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |

  @MLP-20549 @GlueLinker @webtest
  Scenario Outline:SC1 Verify spectrumLinker generated lineage between external table and avro directory if Spectrun cataloger/OrcS3cataloger/Spectrumlinker plugins are ran.(ORCfiles in single folder)
    Given user retrieves all lineage hops values for below parameters
      | database      | retrive              | catalog | type  | lineageFlow  | name                                  | asg_scopeid | targetFile                           | jsonpath |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | spectrun_orcexternaltablesinglefolder |             | response/ORC Linker/bulkLineage.json |          |
    And user hits the following API with given parameters and store the api response in file
      | ServiceName | ServiceUser    | Header           | Query | Param | type | url                                                                                     | bodyFile                             | path                                                    | response code | response message | jsonPath | targetFile                                                                                     |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\ORC Linker\bulkLineage.json | $.lineagePayLoads.spectrun_orcexternaltablesinglefolder | 200           |                  | edges    | response\ORC Linker\ActualLineage\actualLineagehops_spectrun_orcexternaltablesinglefolder.json |
    And user retrieves the name of each id stored in files with below parameters
      | fileName                                                                                                         | JsonPath                              |
      | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablesinglefolder.json | spectrun_orcexternaltablesinglefolder |
    And user sort the json file using the following value
      | fileName                                                                                                         | JsonPath                              | value  |
      | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablesinglefolder.json | spectrun_orcexternaltablesinglefolder | source |
    And User launch browser and traverse to login page
    And user enter credentials for "System Administrator1" role
    And user enters the search text "spectrun_orcexternaltablesinglefolder" and clicks on search
    And user performs "facet selection" in "Redshift Spectrum" attribute under "Tags" facets in Item Search results page
    And user performs "facet selection" in "Table" attribute under "Metadata Type" facets in Item Search results page
    And user performs "item click" on "spectrun_orcexternaltablesinglefolder" item from search results
    Then user performs click and verify in new window
      | Table            | value        | Action                 | RetainPrevwindow | indexSwitch |
      | externalLocation | Singlefolder | verify widget contains | No               |             |
    And expected JSON "<expected_json>" data should be equal to actual "<actual_json>" data for item "<item>"
    Examples:
      | expected_json                                                                                                        | actual_json                                                                                                      | item                                  |
      | Constant.REST_DIR/response/ORC Linker/ExpectedLineage/expectedLineagehops_spectrun_orcexternaltablesinglefolder.json | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablesinglefolder.json | spectrun_orcexternaltablesinglefolder |

  @MLP-20549 @GlueLinker @webtest
  Scenario Outline:SC2 Verify spectrumLinker generated lineage between external table and ORC directory if Spectrun cataloger/OrcS3cataloger/Spectrumlinker plugins are ran.(ORCfiles in Multiple folder)
    Given user retrieves all lineage hops values for below parameters
      | database      | retrive              | catalog | type  | lineageFlow  | name                                    | asg_scopeid | targetFile                           | jsonpath |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | spectrun_orcexternaltablemultiplefolder |             | response/ORC Linker/bulkLineage.json |          |
    And user hits the following API with given parameters and store the api response in file
      | ServiceName | ServiceUser    | Header           | Query | Param | type | url                                                                                     | bodyFile                             | path                                                      | response code | response message | jsonPath | targetFile                                                                                       |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\ORC Linker\bulkLineage.json | $.lineagePayLoads.spectrun_orcexternaltablemultiplefolder | 200           |                  | edges    | response\ORC Linker\ActualLineage\actualLineagehops_spectrun_orcexternaltablemultiplefolder.json |
    And user retrieves the name of each id stored in files with below parameters
      | fileName                                                                                                           | JsonPath                                |
      | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablemultiplefolder.json | spectrun_orcexternaltablemultiplefolder |
    And user sort the json file using the following value
      | fileName                                                                                                           | JsonPath                                | value  |
      | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablemultiplefolder.json | spectrun_orcexternaltablemultiplefolder | source |
    And User launch browser and traverse to login page
    And user enter credentials for "System Administrator1" role
    And user enters the search text "Redshift Spectrum" and clicks on search
    And user performs "facet selection" in "Redshift Spectrum" attribute under "Tags" facets in Item Search results page
    And user performs "facet selection" in "Table" attribute under "Metadata Type" facets in Item Search results page
    And user performs "item click" on "spectrun_orcexternaltablemultiplefolder" item from search results
    Then user performs click and verify in new window
      | Table            | value          | Action                 | RetainPrevwindow | indexSwitch |
      | externalLocation | MultipleFolder | verify widget contains | No               |             |
    And expected JSON "<expected_json>" data should be equal to actual "<actual_json>" data for item "<item>"
    Examples:
      | expected_json                                                                                                          | actual_json                                                                                                        | item                                    |
      | Constant.REST_DIR/response/ORC Linker/ExpectedLineage/expectedLineagehops_spectrun_orcexternaltablemultiplefolder.json | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablemultiplefolder.json | spectrun_orcexternaltablemultiplefolder |

  @MLP-20549 @GlueLinker @webtest
  Scenario Outline:SC3 Verify spectrumLinker generated lineage between external table and ORC directory if Spectrun cataloger/OrcS3cataloger/Spectrumlinker plugins are ran.(ORCfiles in Combination folder)
    Given user retrieves all lineage hops values for below parameters
      | database      | retrive              | catalog | type  | lineageFlow  | name                                       | asg_scopeid | targetFile                           | jsonpath |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | spectrun_orcexternaltablecombinationfolder |             | response/ORC Linker/bulkLineage.json |          |
    And user hits the following API with given parameters and store the api response in file
      | ServiceName | ServiceUser    | Header           | Query | Param | type | url                                                                                     | bodyFile                             | path                                                         | response code | response message | jsonPath | targetFile                                                                                          |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\ORC Linker\bulkLineage.json | $.lineagePayLoads.spectrun_orcexternaltablecombinationfolder | 200           |                  | edges    | response\ORC Linker\ActualLineage\actualLineagehops_spectrun_orcexternaltablecombinationfolder.json |
    And user retrieves the name of each id stored in files with below parameters
      | fileName                                                                                                              | JsonPath                                   |
      | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablecombinationfolder.json | spectrun_orcexternaltablecombinationfolder |
    And user sort the json file using the following value
      | fileName                                                                                                              | JsonPath                                   | value  |
      | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablecombinationfolder.json | spectrun_orcexternaltablecombinationfolder | source |
    And User launch browser and traverse to login page
    And user enter credentials for "System Administrator1" role
    And user enters the search text "Redshift Spectrum" and clicks on search
    And user performs "facet selection" in "Redshift Spectrum" attribute under "Tags" facets in Item Search results page
    And user performs "facet selection" in "Table" attribute under "Metadata Type" facets in Item Search results page
    And user performs "item click" on "spectrun_orcexternaltablecombinationfolder" item from search results
    Then user performs click and verify in new window
      | Table            | value       | Action                 | RetainPrevwindow | indexSwitch |
      | externalLocation | Combination | verify widget contains | No               |             |
    And expected JSON "<expected_json>" data should be equal to actual "<actual_json>" data for item "<item>"
    Examples:
      | expected_json                                                                                                             | actual_json                                                                                                           | item                                       |
      | Constant.REST_DIR/response/ORC Linker/ExpectedLineage/expectedLineagehops_spectrun_orcexternaltablecombinationfolder.json | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablecombinationfolder.json | spectrun_orcexternaltablecombinationfolder |

  Scenario:Post-Condition1:Delete cataloger and Analyzer analysis and tables
    And Delete multiple values in IDC UI with below parameters
      | deleteAction     | catalog | name                                                             | type     | query | param |
      | MultipleIDDelete | Default | cataloger/AmazonSpectrumCataloger/%                              | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/OrcS3Cataloger/%                                       | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/AmazonS3Cataloger/%                                    | Analysis |       |       |
      | MultipleIDDelete | Default | linker/AmazonSpectrumLinker/%                                    | Analysis |       |       |
      | SingleItemDelete | Default | redshift-cluster-1.csvp5wcqqxvw.us-east-1.redshift.amazonaws.com | Cluster  |       |       |
      | SingleItemDelete | Default | dechehdpqa01v.asg.com                                            | Cluster  |       |       |
      | SingleItemDelete | Default | amazonaws.com                                                    | Cluster  |       |       |


  Scenario Outline: Pre-Condition1:Run the spectrumCataloger, AmazonS3 caltaloger ,File Cataloger (orc) and the spectrumLinker
    Given endpoint for "<ServiceName>" for "<ServiceUser>" having "<Header>" and query param with "<Query>" "<Param>" for request type "<type>" with url "<url>" and body "<body>" and verify "<response code>" and "<response message>" using "<jsonPath>"
    Examples:
      | ServiceName | ServiceUser    | Header           | Query | Param | type         | url                                                                                       | body                                                                       | response code | response message     | jsonPath                                                  |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumDataSource                                               | ida/AmazonSpectrumLineagePayloads/AmazonSpectrumDataSource.json            | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumDataSource                                               |                                                                            | 200           | SpectrumDataSource   |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumCataloger                                                | ida/AmazonSpectrumLineagePayloads/SpectrumCataloger_ORC.json               | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumCataloger                                                |                                                                            | 200           | SpectrumCataloger    |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                            | 200           | IDLE                 | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger  | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                            | 200           | IDLE                 | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonS3DataSource                                                     | ida/AmazonSpectrumLineagePayloads/AmazonS3DataSourceConfig.json            | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonS3DataSource                                                     |                                                                            | 200           | AmazonS3DataSource   |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonS3Cataloger                                                      | ida/AmazonSpectrumLineagePayloads/AmazonS3Cataloger_Configuration.json     | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonS3Cataloger                                                      |                                                                            | 200           | AmazonS3Cataloger    |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonS3Cataloger/AmazonS3Cataloger       |                                                                            | 200           | IDLE                 | $.[?(@.configurationName=='AmazonS3Cataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AmazonS3Cataloger/AmazonS3Cataloger        | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonS3Cataloger/AmazonS3Cataloger       |                                                                            | 200           | IDLE                 | $.[?(@.configurationName=='AmazonS3Cataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/OrcS3DataSource                                                        | ida/AmazonSpectrumLineagePayloads/AmazonOrcS3ValidDataSourceConfig.json    | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/OrcS3DataSource                                                        |                                                                            | 200           | OrcS3DataSource      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/OrcS3Cataloger                                                         | ida/AmazonSpectrumLineagePayloads/sc1OrcS3Cataloger.json                   | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/OrcS3Cataloger                                                         |                                                                            | 200           | OrcS3Cataloger       |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/OrcS3Cataloger/OrcS3Cataloger             |                                                                            | 200           | IDLE                 | $.[?(@.configurationName=='OrcS3Cataloger')].status       |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/OrcS3Cataloger/OrcS3Cataloger              | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/OrcS3Cataloger/OrcS3Cataloger             |                                                                            | 200           | IDLE                 | $.[?(@.configurationName=='OrcS3Cataloger')].status       |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumLinker                                                   | ida/AmazonSpectrumLineagePayloads/AmazonSpectrumLinker_ORC_withschema.json | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumLinker                                                   |                                                                            | 200           | AmazonSpectrumLinker |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/AmazonSpectrumLinker    |                                                                            | 200           | IDLE                 | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/linker/AmazonSpectrumLinker/AmazonSpectrumLinker     | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/AmazonSpectrumLinker    |                                                                            | 200           | IDLE                 | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |


  @MLP-20549 @GlueLinker @webtest
  Scenario Outline:SC4 Verify spectrumLinker generated lineage between external table and avro directory if Spectrun cataloger/AmazonS3Cataloger/OrcS3cataloger/Spectrumlinker plugins are ran.(ORCfiles in single folder)
    Given user retrieves all lineage hops values for below parameters
      | database      | retrive              | catalog | type  | lineageFlow  | name                                  | asg_scopeid | targetFile                           | jsonpath |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | spectrun_orcexternaltablesinglefolder |             | response/ORC Linker/bulkLineage.json |          |
    And user hits the following API with given parameters and store the api response in file
      | ServiceName | ServiceUser    | Header           | Query | Param | type | url                                                                                     | bodyFile                             | path                                                    | response code | response message | jsonPath | targetFile                                                                                      |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\ORC Linker\bulkLineage.json | $.lineagePayLoads.spectrun_orcexternaltablesinglefolder | 200           |                  | edges    | response\ORC Linker\ActualLineage\actualLineagehops_spectrun_orcexternaltablesinglefolder1.json |
    And user retrieves the name of each id stored in files with below parameters
      | fileName                                                                                                          | JsonPath                              |
      | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablesinglefolder1.json | spectrun_orcexternaltablesinglefolder |
    And user sort the json file using the following value
      | fileName                                                                                                          | JsonPath                              | value  |
      | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablesinglefolder1.json | spectrun_orcexternaltablesinglefolder | source |
    And User launch browser and traverse to login page
    And user enter credentials for "System Administrator1" role
    And user enters the search text "Redshift Spectrum" and clicks on search
    And user performs "facet selection" in "Redshift Spectrum" attribute under "Tags" facets in Item Search results page
    And user performs "facet selection" in "Table" attribute under "Metadata Type" facets in Item Search results page
    And user performs "item click" on "spectrun_orcexternaltablesinglefolder" item from search results
    Then user performs click and verify in new window
      | Table            | value        | Action                 | RetainPrevwindow | indexSwitch |
      | externalLocation | Singlefolder | verify widget contains | No               |             |
    And expected JSON "<expected_json>" data should be equal to actual "<actual_json>" data for item "<item>"
    Examples:
      | expected_json                                                                                                        | actual_json                                                                                                       | item                                  |
      | Constant.REST_DIR/response/ORC Linker/ExpectedLineage/expectedLineagehops_spectrun_orcexternaltablesinglefolder.json | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablesinglefolder1.json | spectrun_orcexternaltablesinglefolder |

  @MLP-20549 @GlueLinker @webtest
  Scenario Outline:SC5 Verify spectrumLinker generated lineage between external table and ORC directory if Spectrun cataloger/AmazonS3Cataloger/OrcS3cataloger/Spectrumlinker plugins are ran.(ORCfiles in Multiple folder)
    Given user retrieves all lineage hops values for below parameters
      | database      | retrive              | catalog | type  | lineageFlow  | name                                    | asg_scopeid | targetFile                           | jsonpath |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | spectrun_orcexternaltablemultiplefolder |             | response/ORC Linker/bulkLineage.json |          |
    And user hits the following API with given parameters and store the api response in file
      | ServiceName | ServiceUser    | Header           | Query | Param | type | url                                                                                     | bodyFile                             | path                                                      | response code | response message | jsonPath | targetFile                                                                                        |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\ORC Linker\bulkLineage.json | $.lineagePayLoads.spectrun_orcexternaltablemultiplefolder | 200           |                  | edges    | response\ORC Linker\ActualLineage\actualLineagehops_spectrun_orcexternaltablemultiplefolder1.json |
    And user retrieves the name of each id stored in files with below parameters
      | fileName                                                                                                            | JsonPath                                |
      | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablemultiplefolder1.json | spectrun_orcexternaltablemultiplefolder |
    And user sort the json file using the following value
      | fileName                                                                                                            | JsonPath                                | value  |
      | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablemultiplefolder1.json | spectrun_orcexternaltablemultiplefolder | source |
    And User launch browser and traverse to login page
    And user enter credentials for "System Administrator1" role
    And user enters the search text "Redshift Spectrum" and clicks on search
    And user performs "facet selection" in "Redshift Spectrum" attribute under "Tags" facets in Item Search results page
    And user performs "facet selection" in "Table" attribute under "Metadata Type" facets in Item Search results page
    And user performs "item click" on "spectrun_orcexternaltablemultiplefolder" item from search results
    Then user performs click and verify in new window
      | Table            | value          | Action                 | RetainPrevwindow | indexSwitch |
      | externalLocation | MultipleFolder | verify widget contains | No               |             |
    And expected JSON "<expected_json>" data should be equal to actual "<actual_json>" data for item "<item>"
    Examples:
      | expected_json                                                                                                          | actual_json                                                                                                         | item                                    |
      | Constant.REST_DIR/response/ORC Linker/ExpectedLineage/expectedLineagehops_spectrun_orcexternaltablemultiplefolder.json | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablemultiplefolder1.json | spectrun_orcexternaltablemultiplefolder |

  @MLP-20549 @GlueLinker @webtest
  Scenario Outline:SC6 Verify spectrumLinker generated lineage between external table and ORC directory if Spectrun cataloger/AmazonS3Cataloger/OrcS3cataloger/Spectrumlinker plugins are ran.(ORCfiles in Combination folder)
    Given user retrieves all lineage hops values for below parameters
      | database      | retrive              | catalog | type  | lineageFlow  | name                                       | asg_scopeid | targetFile                           | jsonpath |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | spectrun_orcexternaltablecombinationfolder |             | response/ORC Linker/bulkLineage.json |          |
    And user hits the following API with given parameters and store the api response in file
      | ServiceName | ServiceUser    | Header           | Query | Param | type | url                                                                                     | bodyFile                             | path                                                         | response code | response message | jsonPath | targetFile                                                                                           |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\ORC Linker\bulkLineage.json | $.lineagePayLoads.spectrun_orcexternaltablecombinationfolder | 200           |                  | edges    | response\ORC Linker\ActualLineage\actualLineagehops_spectrun_orcexternaltablecombinationfolder1.json |
    And user retrieves the name of each id stored in files with below parameters
      | fileName                                                                                                               | JsonPath                                   |
      | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablecombinationfolder1.json | spectrun_orcexternaltablecombinationfolder |
    And user sort the json file using the following value
      | fileName                                                                                                               | JsonPath                                   | value  |
      | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablecombinationfolder1.json | spectrun_orcexternaltablecombinationfolder | source |
    And User launch browser and traverse to login page
    And user enter credentials for "System Administrator1" role
    And user enters the search text "Redshift Spectrum" and clicks on search
    And user performs "facet selection" in "Redshift Spectrum" attribute under "Tags" facets in Item Search results page
    And user performs "facet selection" in "Table" attribute under "Metadata Type" facets in Item Search results page
    And user performs "item click" on "spectrun_orcexternaltablecombinationfolder" item from search results
    Then user performs click and verify in new window
      | Table            | value       | Action                 | RetainPrevwindow | indexSwitch |
      | externalLocation | Combination | verify widget contains | No               |             |
    And expected JSON "<expected_json>" data should be equal to actual "<actual_json>" data for item "<item>"
    Examples:
      | expected_json                                                                                                             | actual_json                                                                                                            | item                                       |
      | Constant.REST_DIR/response/ORC Linker/ExpectedLineage/expectedLineagehops_spectrun_orcexternaltablecombinationfolder.json | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablecombinationfolder1.json | spectrun_orcexternaltablecombinationfolder |

  Scenario:Post-Condition2:Delete cataloger and Analyzer analysis and tables
    And Delete multiple values in IDC UI with below parameters
      | deleteAction     | catalog | name                                                             | type     | query | param |
      | MultipleIDDelete | Default | cataloger/AmazonSpectrumCataloger/%                              | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/OrcS3Cataloger/%                                       | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/AmazonS3Cataloger/%                                    | Analysis |       |       |
      | MultipleIDDelete | Default | linker/AmazonSpectrumLinker/%                                    | Analysis |       |       |
      | SingleItemDelete | Default | redshift-cluster-1.csvp5wcqqxvw.us-east-1.redshift.amazonaws.com | Cluster  |       |       |
      | SingleItemDelete | Default | dechehdpqa01v.asg.com                                            | Cluster  |       |       |
      | SingleItemDelete | Default | amazonaws.com                                                    | Cluster  |       |       |


  Scenario Outline: Pre-Condition2:Run the spectrumCataloger, s3 cataloger and the snowflakeLinker
    Given endpoint for "<ServiceName>" for "<ServiceUser>" having "<Header>" and query param with "<Query>" "<Param>" for request type "<type>" with url "<url>" and body "<body>" and verify "<response code>" and "<response message>" using "<jsonPath>"
    Examples:
      | ServiceName | ServiceUser    | Header           | Query | Param | type         | url                                                                                       | body                                                                       | response code | response message     | jsonPath                                                  |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumDataSource                                               | ida/AmazonSpectrumLineagePayloads/AmazonSpectrumDataSource.json            | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumDataSource                                               |                                                                            | 200           | SpectrumDataSource   |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumCataloger                                                | ida/AmazonSpectrumLineagePayloads/SpectrumCataloger_ORC.json               | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumCataloger                                                |                                                                            | 200           | SpectrumCataloger    |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                            | 200           | IDLE                 | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger  | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                            | 200           | IDLE                 | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonS3DataSource                                                     | ida/AmazonSpectrumLineagePayloads/AmazonS3DataSourceConfig.json            | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonS3DataSource                                                     |                                                                            | 200           | AmazonS3DataSource   |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonS3Cataloger                                                      | ida/AmazonSpectrumLineagePayloads/AmazonS3Cataloger_Configuration.json     | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonS3Cataloger                                                      |                                                                            | 200           | AmazonS3Cataloger    |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonS3Cataloger/AmazonS3Cataloger       |                                                                            | 200           | IDLE                 | $.[?(@.configurationName=='AmazonS3Cataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AmazonS3Cataloger/AmazonS3Cataloger        | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonS3Cataloger/AmazonS3Cataloger       |                                                                            | 200           | IDLE                 | $.[?(@.configurationName=='AmazonS3Cataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumLinker                                                   | ida/AmazonSpectrumLineagePayloads/AmazonSpectrumLinker_ORC_withschema.json | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumLinker                                                   |                                                                            | 200           | AmazonSpectrumLinker |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/AmazonSpectrumLinker    |                                                                            | 200           | IDLE                 | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/linker/AmazonSpectrumLinker/AmazonSpectrumLinker     | ida/AmazonSpectrumLineagePayloads/empty.json                               | 200           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/AmazonSpectrumLinker    |                                                                            | 200           | IDLE                 | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |


  @MLP-20549 @GlueLinker @webtest
  Scenario Outline:SC7 Verify spectrumLinker generated lineage between external table and avro directory if Spectrun cataloger/AmazonS3Cataloger/Spectrumlinker plugins are ran.(ORCfiles in single folder)
    Given user retrieves all lineage hops values for below parameters
      | database      | retrive              | catalog | type  | lineageFlow  | name                                  | asg_scopeid | targetFile                           | jsonpath |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | spectrun_orcexternaltablesinglefolder |             | response/ORC Linker/bulkLineage.json |          |
    And user hits the following API with given parameters and store the api response in file
      | ServiceName | ServiceUser    | Header           | Query | Param | type | url                                                                                     | bodyFile                             | path                                                    | response code | response message | jsonPath | targetFile                                                                                      |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\ORC Linker\bulkLineage.json | $.lineagePayLoads.spectrun_orcexternaltablesinglefolder | 200           |                  | edges    | response\ORC Linker\ActualLineage\actualLineagehops_spectrun_orcexternaltablesinglefolder2.json |
    And user retrieves the name of each id stored in files with below parameters
      | fileName                                                                                                          | JsonPath                              |
      | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablesinglefolder2.json | spectrun_orcexternaltablesinglefolder |
    And user sort the json file using the following value
      | fileName                                                                                                          | JsonPath                              | value  |
      | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablesinglefolder2.json | spectrun_orcexternaltablesinglefolder | source |
    And User launch browser and traverse to login page
    And user enter credentials for "System Administrator1" role
    And user enters the search text "spectrun_orcexternaltablesinglefolder" and clicks on search
    And user performs "facet selection" in "Redshift Spectrum" attribute under "Tags" facets in Item Search results page
    And user performs "facet selection" in "Table" attribute under "Metadata Type" facets in Item Search results page
    And user performs "item click" on "spectrun_orcexternaltablesinglefolder" item from search results
    Then user performs click and verify in new window
      | Table            | value        | Action                 | RetainPrevwindow | indexSwitch |
      | externalLocation | Singlefolder | verify widget contains | No               |             |
    And expected JSON "<expected_json>" data should be equal to actual "<actual_json>" data for item "<item>"
    Examples:
      | expected_json                                                                                                                 | actual_json                                                                                                       | item                                  |
      | Constant.REST_DIR/response/ORC Linker/ExpectedLineage/actualLineagehops_spectrun_orcexternaltablesinglefolder_dirLineage.json | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablesinglefolder2.json | spectrun_orcexternaltablesinglefolder |

  @MLP-20549 @GlueLinker @webtest
  Scenario Outline:SC8 Verify spectrumLinker generated lineage between external table and ORC directory if cataloger/AmazonS3Cataloger/Spectrumlinker plugins are ran.(ORCfiles in Multiple folder)
    Given user retrieves all lineage hops values for below parameters
      | database      | retrive              | catalog | type  | lineageFlow  | name                                    | asg_scopeid | targetFile                           | jsonpath |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | spectrun_orcexternaltablemultiplefolder |             | response/ORC Linker/bulkLineage.json |          |
    And user hits the following API with given parameters and store the api response in file
      | ServiceName | ServiceUser    | Header           | Query | Param | type | url                                                                                     | bodyFile                             | path                                                      | response code | response message | jsonPath | targetFile                                                                                        |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\ORC Linker\bulkLineage.json | $.lineagePayLoads.spectrun_orcexternaltablemultiplefolder | 200           |                  | edges    | response\ORC Linker\ActualLineage\actualLineagehops_spectrun_orcexternaltablemultiplefolder2.json |
    And user retrieves the name of each id stored in files with below parameters
      | fileName                                                                                                            | JsonPath                                |
      | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablemultiplefolder2.json | spectrun_orcexternaltablemultiplefolder |
    And user sort the json file using the following value
      | fileName                                                                                                            | JsonPath                                | value  |
      | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablemultiplefolder2.json | spectrun_orcexternaltablemultiplefolder | source |
    And User launch browser and traverse to login page
    And user enter credentials for "System Administrator1" role
    And user enters the search text "Redshift Spectrum" and clicks on search
    And user performs "facet selection" in "Redshift Spectrum" attribute under "Tags" facets in Item Search results page
    And user performs "facet selection" in "Table" attribute under "Metadata Type" facets in Item Search results page
    And user performs "item click" on "spectrun_orcexternaltablemultiplefolder" item from search results
    Then user performs click and verify in new window
      | Table            | value          | Action                 | RetainPrevwindow | indexSwitch |
      | externalLocation | MultipleFolder | verify widget contains | No               |             |
    And expected JSON "<expected_json>" data should be equal to actual "<actual_json>" data for item "<item>"
    Examples:
      | expected_json                                                                                                                     | actual_json                                                                                                         | item                                    |
      | Constant.REST_DIR/response/ORC Linker/ExpectedLineage/expectedLineagehops_spectrun_orcexternaltablemultiplefolder_dirLineage.json | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablemultiplefolder2.json | spectrun_orcexternaltablemultiplefolder |

  @MLP-20549 @GlueLinker @webtest
  Scenario Outline:SC9 Verify spectrumLinker generated lineage between external table and ORC directory if cataloger/AmazonS3Cataloger/Spectrumlinker plugins are ran.(ORCfiles in Combination folder)
    Given user retrieves all lineage hops values for below parameters
      | database      | retrive              | catalog | type  | lineageFlow  | name                                       | asg_scopeid | targetFile                           | jsonpath |
      | APPDBPOSTGRES | bulkFunctionHopNames | Default | Table | Table-->hops | spectrun_orcexternaltablecombinationfolder |             | response/ORC Linker/bulkLineage.json |          |
    And user hits the following API with given parameters and store the api response in file
      | ServiceName | ServiceUser    | Header           | Query | Param | type | url                                                                                     | bodyFile                             | path                                                         | response code | response message | jsonPath | targetFile                                                                                           |
      | IDC         | TestSystemUser | application/json |       |       | Post | lineages/Default?dir=OUT&lineageDepth=0&exclude=MULTIHOP&excludeUnusedViewColumns=false | response\ORC Linker\bulkLineage.json | $.lineagePayLoads.spectrun_orcexternaltablecombinationfolder | 200           |                  | edges    | response\ORC Linker\ActualLineage\actualLineagehops_spectrun_orcexternaltablecombinationfolder2.json |
    And user retrieves the name of each id stored in files with below parameters
      | fileName                                                                                                               | JsonPath                                   |
      | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablecombinationfolder2.json | spectrun_orcexternaltablecombinationfolder |
    And user sort the json file using the following value
      | fileName                                                                                                               | JsonPath                                   | value  |
      | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablecombinationfolder2.json | spectrun_orcexternaltablecombinationfolder | source |
    And User launch browser and traverse to login page
    And user enter credentials for "System Administrator1" role
    And user enters the search text "Redshift Spectrum" and clicks on search
    And user performs "facet selection" in "Redshift Spectrum" attribute under "Tags" facets in Item Search results page
    And user performs "facet selection" in "Table" attribute under "Metadata Type" facets in Item Search results page
    And user performs "item click" on "spectrun_orcexternaltablecombinationfolder" item from search results
    Then user performs click and verify in new window
      | Table            | value       | Action                 | RetainPrevwindow | indexSwitch |
      | externalLocation | Combination | verify widget contains | No               |             |
    And expected JSON "<expected_json>" data should be equal to actual "<actual_json>" data for item "<item>"
    Examples:
      | expected_json                                                                                                                        | actual_json                                                                                                            | item                                       |
      | Constant.REST_DIR/response/ORC Linker/ExpectedLineage/expectedLineagehops_spectrun_orcexternaltablecombinationfolder_dirLineage.json | Constant.REST_DIR/response/ORC Linker/ActualLineage/actualLineagehops_spectrun_orcexternaltablecombinationfolder2.json | spectrun_orcexternaltablecombinationfolder |

  Scenario:Post-Condition3:Delete cataloger and Analyzer analysis and tables
    And Delete multiple values in IDC UI with below parameters
      | deleteAction     | catalog | name                                                             | type     | query | param |
      | MultipleIDDelete | Default | cataloger/AmazonSpectrumCataloger/%                              | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/OrcS3Cataloger/%                                       | Analysis |       |       |
      | MultipleIDDelete | Default | cataloger/AmazonS3Cataloger/%                                    | Analysis |       |       |
      | MultipleIDDelete | Default | linker/AmazonSpectrumLinker/%                                    | Analysis |       |       |
      | SingleItemDelete | Default | redshift-cluster-1.csvp5wcqqxvw.us-east-1.redshift.amazonaws.com | Cluster  |       |       |
      | SingleItemDelete | Default | dechehdpqa01v.asg.com                                            | Cluster  |       |       |
      | SingleItemDelete | Default | amazonaws.com                                                    | Cluster  |       |       |



#    ########################################################################Scenario01 - Verify the Lineage for the View created in Redshift from the Spectrum External Tables####################################################################################################################################################################################################################


  #MLP-17257 - #6888707 to #6888722
   #MLP-16095 - #6887298 to #6888721
  Scenario Outline:SC#1Run the Plugin for disabled region                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      configurations for DataSource and AmazonS3Cataloger
    Given endpoint for "<ServiceName>" for "<ServiceUser>" having "<Header>" and query param with "<Query>" "<Param>" for request type "<type>" with url "<url>" and body "<body>" and verify "<response code>" and "<response message>" using "<jsonPath>"
    Examples:
      | ServiceName | ServiceUser    | Header           | Query | Param | type         | url                                                                                       | body                                                                            | response code | response message     | jsonPath                                                  |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonRedshiftDataSource                                               | ida/AmazonRedshiftPostProcessorPayloads/AmazonRedshiftDataSource.json           | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonRedshiftDataSource                                               |                                                                                 | 200           | RedshiftDataSource   |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumDataSource                                               | ida/AmazonRedshiftPostProcessorPayloads/AmazonSpectrumDataSource.json           | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumDataSource                                               |                                                                                 | 200           | SpectrumDataSource   |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonS3DataSource                                                     | ida/AmazonRedshiftPostProcessorPayloads/AmazonS3DataSourceConfig.json           | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonS3DataSource                                                     |                                                                                 | 200           | AmazonS3DataSource   |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumCataloger                                                | ida/AmazonRedshiftPostProcessorPayloads/RedshiftSpectrumCataloger.json          | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumCataloger                                                |                                                                                 | 200           | SpectrumCataloger    |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                                 | 200           | IDLE                 | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger  | ida/AmazonRedshiftPostProcessorPayloads/empty.json                              | 200           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonSpectrumCataloger/SpectrumCataloger |                                                                                 | 200           | IDLE                 | $.[?(@.configurationName=='SpectrumCataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonS3Cataloger                                                      | ida/AmazonRedshiftPostProcessorPayloads/AmazonS3Cataloger_Configuration.json    | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonS3Cataloger                                                      |                                                                                 | 200           | AmazonS3Cataloger    |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonS3Cataloger/*                       |                                                                                 | 200           | IDLE                 | $.[?(@.configurationName=='AmazonS3Cataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/cataloger/AmazonS3Cataloger/*                        | ida/AmazonRedshiftPostProcessorPayloads/empty.json                              | 200           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/cataloger/AmazonS3Cataloger/*                       |                                                                                 | 200           | IDLE                 | $.[?(@.configurationName=='AmazonS3Cataloger')].status    |
      | IDC         | TestSystemUser | application/json | raw   | false | Put          | settings/analyzers/AmazonSpectrumLinker                                                   | ida/AmazonRedshiftPostProcessorPayloads/AmazonSpectrumLinker_DisableRegion.json | 204           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | Get          | settings/analyzers/AmazonSpectrumLinker                                                   |                                                                                 | 200           | AmazonSpectrumLinker |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/*                       |                                                                                 | 200           | IDLE                 | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |
      | IDC         | TestSystemUser | application/json | raw   | false | Post         | extensions/analyzers/start/LocalNode/linker/AmazonSpectrumLinker/*                        | ida/AmazonRedshiftPostProcessorPayloads/empty.json                              | 200           |                      |                                                           |
      | IDC         | TestSystemUser | application/json | raw   | false | RecursiveGet | extensions/analyzers/status/LocalNode/linker/AmazonSpectrumLinker/*                       |                                                                                 | 200           | IDLE                 | $.[?(@.configurationName=='AmazonSpectrumLinker')].status |

  @regression @sanity @IDA-10.0
  Scenario:Log validations for Spectrum linker  plugin when disabled region
    Then Analysis log "linker/AmazonSpectrumLinker/AmazonSpectrumLinker/%" should display below info/error/warning
      | type | logValue                                                          | logCode                  | pluginName | removableText |
      | WARN | No results found while fetching items by using getItemsByLocation | ANALYSIS-LINKER-MSG-0007 |            |               |

 ##########################################################################################Delete the Configurations and Credentials#################################################################################################################################################

  @RedShift @positve @regression @sanity
  Scenario Outline: Delete plugin Configurations
    Given endpoint for "<ServiceName>" for "<ServiceUser>" having "<Header>" and query param with "<Query>" "<Param>" for request type "<type>" with url "<url>" and body "<body>" and verify "<response code>" and "<response message>" using "<jsonPath>"
    Examples:
      | ServiceName | ServiceUser    | Header           | Query | Param | type   | url                                               | body | response code | response message | jsonPath |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/analyzers/AmazonRedshiftDataSource       |      | 204           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/analyzers/AmazonRedshiftCataloger        |      | 204           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/analyzers/AmazonSpectrumCataloger        |      | 204           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/analyzers/AmazonSpectrumDataSource       |      | 204           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/analyzers/AmazonSpectrumLinker           |      | 204           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/credentials/Redshift_Credentials         |      | 200           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/analyzers/AmazonS3Cataloger              |      | 204           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/analyzers/AmazonS3DataSource             |      | 204           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/analyzers/CsvS3Cataloger                 |      | 204           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/analyzers/OrcS3DataSource                |      | 204           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/analyzers/OrcS3Cataloger                 |      | 204           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/analyzers/CsvS3DataSource                |      | 204           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/analyzers/JsonS3Cataloger                |      | 204           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/analyzers/JsonS3DataSource               |      | 204           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/analyzers/AvroS3Cataloger                |      | 204           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/analyzers/AvroS3DataSource               |      | 204           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/analyzers/ParquetS3Cataloger             |      | 204           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/analyzers/ParquetS3DataSource            |      | 204           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/credentials/Spectrum_Credentials         |      | 200           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/credentials/Spec_ValidJSONCredentials    |      | 200           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/credentials/Spec_ValidParquetCredentials |      | 200           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/credentials/Spec_ValidAVROCredentials    |      | 200           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/credentials/Spec_AWS_CSV_Credentials     |      | 200           |                  |          |
      | IDC         | TestSystemUser | application/json |       |       | Delete | settings/credentials/AWS_Amazon_Credentials       |      | 200           |                  |          |